<!DOCTYPE html>
<html>
<head>
<title>OOP_Tutoring.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/*
 * Visual Studio 2015 dark style
 * Author: Nicolas LLOBERA <nllobera@gmail.com>
 */

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #1E1E1E;
  color: #DCDCDC;
}

.hljs-keyword,
.hljs-literal,
.hljs-symbol,
.hljs-name {
  color: #569CD6;
}
.hljs-link {
  color: #569CD6;
  text-decoration: underline;
}

.hljs-built_in,
.hljs-type {
  color: #4EC9B0;
}

.hljs-number,
.hljs-class {
  color: #B8D7A3;
}

.hljs-string,
.hljs-meta-string {
  color: #D69D85;
}

.hljs-regexp,
.hljs-template-tag {
  color: #9A5334;
}

.hljs-subst,
.hljs-function,
.hljs-title,
.hljs-params,
.hljs-formula {
  color: #DCDCDC;
}

.hljs-comment,
.hljs-quote {
  color: #57A64A;
  font-style: italic;
}

.hljs-doctag {
  color: #608B4E;
}

.hljs-meta,
.hljs-meta-keyword,
.hljs-tag {
  color: #9B9B9B;
}

.hljs-variable,
.hljs-template-variable {
  color: #BD63C5;
}

.hljs-attr,
.hljs-attribute,
.hljs-builtin-name {
  color: #9CDCFE;
}

.hljs-section {
  color: gold;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}

/*.hljs-code {
  font-family:'Monospace';
}*/

.hljs-bullet,
.hljs-selector-tag,
.hljs-selector-id,
.hljs-selector-class,
.hljs-selector-attr,
.hljs-selector-pseudo {
  color: #D7BA7D;
}

.hljs-addition {
  background-color: #144212;
  display: inline-block;
  width: 100%;
}

.hljs-deletion {
  background-color: #600;
  display: inline-block;
  width: 100%;
}

</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>
<link rel="stylesheet" href="github-markdown-dark.css" type="text/css">
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body class="markdown-body">
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="%F0%9F%A7%B1-%E7%AC%AC-1-%E7%AB%A0oop-%E5%9F%BA%E7%A4%8E%E8%A7%80%E5%BF%B5">ğŸ§± ç¬¬ 1 ç« ï¼šOOP åŸºç¤è§€å¿µ</h1>
<h2 id="%F0%9F%8E%93-%E6%95%99%E5%AD%B8%E7%9B%AE%E6%A8%99">ğŸ“ æ•™å­¸ç›®æ¨™</h2>
<ol>
<li>ç­è§£ç‰©ä»¶å°å‘ï¼ˆOOPï¼‰èˆ‡ç¨‹åºå¼ç¨‹å¼è¨­è¨ˆçš„å·®ç•°</li>
<li>æŒæ¡ OOP çš„å››å¤§æ”¯æŸ±ï¼šå°è£ã€ç¹¼æ‰¿ã€å¤šå‹ã€æŠ½è±¡</li>
<li>äº†è§£ C# ä½œç‚º OOP èªè¨€çš„åŸºæœ¬è¨­è¨ˆç†å¿µ</li>
</ol>
<hr>
<h2 id="%F0%9F%A7%AD-1-%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88%E7%AF%84%E5%BC%8F%E7%B0%A1%E4%BB%8B">ğŸ§­ 1. ç¨‹å¼è¨­è¨ˆç¯„å¼ç°¡ä»‹</h2>
<h3 id="%E2%9C%85-%E7%A8%8B%E5%BA%8F%E5%BC%8Fprocedural-programming">âœ… ç¨‹åºå¼ï¼ˆProcedural Programmingï¼‰</h3>
<ul>
<li>å°‡å•é¡Œåˆ†è§£ç‚ºä¸€é€£ä¸²çš„ã€ŒæŒ‡ä»¤ã€æµç¨‹èˆ‡è³‡æ–™ã€</li>
<li>å¸¸ç”¨æ–¼å°å‹è…³æœ¬æˆ–è™•ç†æµç¨‹ç·šæ€§ç°¡å–®çš„å ´æ™¯</li>
</ul>
<h3 id="%E2%9C%85-%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91object-oriented-programming">âœ… ç‰©ä»¶å°å‘ï¼ˆObject-Oriented Programmingï¼‰</h3>
<ul>
<li>å¼·èª¿ã€Œè³‡æ–™ï¼ˆç‹€æ…‹ï¼‰ã€èˆ‡ã€Œè¡Œç‚ºï¼ˆæ–¹æ³•ï¼‰ã€å°è£åœ¨ä¸€èµ·</li>
<li>ç¨‹å¼æ¶æ§‹è¼ƒå…·å½ˆæ€§èˆ‡å¯é‡ç”¨æ€§</li>
</ul>
<table>
<thead>
<tr>
<th>æ¯”è¼ƒé …ç›®</th>
<th>ç¨‹åºå¼</th>
<th>ç‰©ä»¶å°å‘</th>
</tr>
</thead>
<tbody>
<tr>
<td>å–®å…ƒå–®ä½</td>
<td>å‡½å¼ã€æµç¨‹</td>
<td>é¡åˆ¥ã€ç‰©ä»¶</td>
</tr>
<tr>
<td>è³‡æ–™èˆ‡é‚è¼¯</td>
<td>åˆ†é›¢</td>
<td>å°è£åœ¨ç‰©ä»¶ä¸­</td>
</tr>
<tr>
<td>é‡ç”¨æ–¹å¼</td>
<td>è¤‡è£½è²¼ä¸Š</td>
<td>ç¹¼æ‰¿èˆ‡å¤šå‹</td>
</tr>
<tr>
<td>ç¯„ä¾‹èªè¨€</td>
<td>C, Pythonï¼ˆæŸäº›å¯«æ³•ï¼‰</td>
<td>C#, Java, C++, Swift</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="%F0%9F%A7%AD-2-oop-%E7%9A%84%E5%9B%9B%E5%A4%A7%E6%94%AF%E6%9F%B1">ğŸ§­ 2. OOP çš„å››å¤§æ”¯æŸ±</h2>
<h3 id="%F0%9F%9F%A6-21-%E5%B0%81%E8%A3%9Dencapsulation">ğŸŸ¦ 2.1 å°è£ï¼ˆEncapsulationï¼‰</h3>
<ul>
<li>å°‡è³‡æ–™å’Œæ–¹æ³•æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œä¸¦éš±è—å…§éƒ¨çš„è¤‡é›œå¯¦ä½œ</li>
<li>å¤–éƒ¨åªèƒ½é€éã€Œæ–¹æ³•ã€èˆ‡ã€Œå±¬æ€§ã€æ“ä½œå…§éƒ¨ç‹€æ…‹</li>
</ul>
<h3 id="%F0%9F%9F%AA-22-%E7%B9%BC%E6%89%BFinheritance">ğŸŸª 2.2 ç¹¼æ‰¿ï¼ˆInheritanceï¼‰</h3>
<ul>
<li>å­é¡åˆ¥å¯ä»¥ç¹¼æ‰¿çˆ¶é¡åˆ¥çš„å±¬æ€§èˆ‡æ–¹æ³•</li>
<li>å¯æ¸›å°‘é‡è¤‡ç¨‹å¼ç¢¼</li>
</ul>
<h3 id="%F0%9F%9F%A5-23-%E5%A4%9A%E5%9E%8Bpolymorphism">ğŸŸ¥ 2.3 å¤šå‹ï¼ˆPolymorphismï¼‰</h3>
<ul>
<li>
<p>åŒæ¨£çš„æ–¹æ³•å‘¼å«ï¼Œå°ä¸åŒç‰©ä»¶æœ‰ä¸åŒçš„è¡Œç‚º</p>
</li>
<li>
<p>åˆ†ç‚ºï¼š</p>
<ul>
<li>å¤šè¼‰ï¼ˆoverloadï¼‰</li>
<li>è¦†å¯«ï¼ˆoverrideï¼‰</li>
</ul>
</li>
</ul>
<h3 id="%F0%9F%9F%A8-24-%E6%8A%BD%E8%B1%A1abstraction">ğŸŸ¨ 2.4 æŠ½è±¡ï¼ˆAbstractionï¼‰</h3>
<ul>
<li>
<p>éš±è—å…§éƒ¨å¯¦ä½œç´°ç¯€ï¼Œåªæš´éœ²å¿…è¦çš„æ“ä½œä»‹é¢</p>
</li>
<li>
<p>å¯¦ç¾æ–¹å¼ï¼š</p>
<ul>
<li>æŠ½è±¡é¡åˆ¥</li>
<li>ä»‹é¢ï¼ˆinterfaceï¼‰</li>
</ul>
</li>
</ul>
<hr>
<h2 id="%F0%9F%9B%A0-%E7%AF%84%E4%BE%8Boop-%E5%9B%9B%E5%A4%A7%E6%94%AF%E6%9F%B1">ğŸ›  ç¯„ä¾‹ï¼šOOP å››å¤§æ”¯æŸ±</h2>
<pre class="hljs"><code><div><span class="hljs-comment">// å°è£ + ç¹¼æ‰¿ + å¤šå‹ + æŠ½è±¡ç°¡ä»‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Speak</span>(<span class="hljs-params"></span>)</span>;      <span class="hljs-comment">// æŠ½è±¡æ–¹æ³•</span>
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> : <span class="hljs-title">Animal</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Speak</span>(<span class="hljs-params"></span>)       <span class="hljs-comment">// å¤šå‹ (override)</span></span>
    {
        Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{Name}</span>ï¼šæ±ªæ±ªï¼"</span>);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Cat</span> : <span class="hljs-title">Animal</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Speak</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{Name}</span>ï¼šå–µå–µï½"</span>);
    }
}
</div></code></pre>
<h3 id="%F0%9F%93%8C-%E6%B8%AC%E8%A9%A6%E7%A8%8B%E5%BC%8F">ğŸ“Œ æ¸¬è©¦ç¨‹å¼</h3>
<pre class="hljs"><code><div>Animal dog = <span class="hljs-keyword">new</span> Dog { Name = <span class="hljs-string">"å°ç™½"</span> };
Animal cat = <span class="hljs-keyword">new</span> Cat { Name = <span class="hljs-string">"å°èŠ±"</span> };
dog.Speak();   <span class="hljs-comment">// å°ç™½ï¼šæ±ªæ±ªï¼</span>
cat.Speak();   <span class="hljs-comment">// å°èŠ±ï¼šå–µå–µï½</span>
</div></code></pre>
<hr>
<h1 id="%F0%9F%93%98-%E7%AC%AC-2-%E7%AB%A0%E5%B0%81%E8%A3%9Dencapsulation">ğŸ“˜ ç¬¬ 2 ç« ï¼šå°è£ï¼ˆEncapsulationï¼‰</h1>
<h2 id="%F0%9F%8E%AF-%E6%95%99%E5%AD%B8%E7%9B%AE%E6%A8%99">ğŸ¯ æ•™å­¸ç›®æ¨™</h2>
<ul>
<li>ç­è§£å°è£åœ¨ OOP ä¸­çš„è§’è‰²èˆ‡é‡è¦æ€§</li>
<li>ç†Ÿæ‚‰ C# æ¬Šé™ä¿®é£¾è©çš„é‹ä½œèˆ‡æ‡‰ç”¨</li>
<li>å¯¦ä½œå±¬æ€§ (<code>property</code>) æ§åˆ¶è³‡æ–™å­˜å–èˆ‡é©—è­‰</li>
<li>å»ºç«‹å…·å‚™è³‡æ–™ä¿è­·æ©Ÿåˆ¶çš„é¡åˆ¥è¨­è¨ˆèƒ½åŠ›</li>
</ul>
<hr>
<h2 id="%F0%9F%A7%B1-%E5%B0%81%E8%A3%9D%E6%A6%82%E5%BF%B5%E8%AA%AA%E6%98%8E">ğŸ§± å°è£æ¦‚å¿µèªªæ˜</h2>
<h3 id="%E4%BB%80%E9%BA%BC%E6%98%AF%E5%B0%81%E8%A3%9D">ä»€éº¼æ˜¯å°è£ï¼Ÿ</h3>
<p>å°è£æ˜¯ä¸€ç¨®å°‡<strong>è³‡æ–™èˆ‡è¡Œç‚ºç¶åœ¨ä¸€èµ·</strong>ï¼Œä¸¦<strong>é™åˆ¶å¤–éƒ¨ç›´æ¥å­˜å–è³‡æ–™</strong>çš„æŠ€è¡“ï¼Œ
å°±åƒä½ ä½¿ç”¨å¾®æ³¢çˆæ™‚ï¼Œåªéœ€è¦æŒ‰æŒ‰éˆ•ï¼ˆå…¬é–‹çš„ä»‹é¢ï¼‰ï¼Œè€Œä¸éœ€è¦çŸ¥é“å…§éƒ¨çš„é›»è·¯å¦‚ä½•é‹ä½œï¼ˆç§æœ‰çš„å¯¦ä½œï¼‰ã€‚</p>
<p>é€éå°è£å¯ä»¥ï¼š</p>
<ul>
<li>éš±è—å…§éƒ¨å¯¦ä½œç´°ç¯€ï¼ˆæé«˜å®‰å…¨æ€§ï¼‰</li>
<li>æ§åˆ¶å°æ¬„ä½çš„å­˜å–èˆ‡é©—è­‰ï¼ˆæé«˜ç©©å®šæ€§ï¼‰</li>
</ul>
<hr>
<h2 id="%F0%9F%94%90-%E6%AC%8A%E9%99%90%E4%BF%AE%E9%A3%BE%E8%A9%9Eaccess-modifiers">ğŸ” æ¬Šé™ä¿®é£¾è©ï¼ˆAccess Modifiersï¼‰</h2>
<table>
<thead>
<tr>
<th>ä¿®é£¾è©</th>
<th>å­˜å–ç¯„åœèªªæ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public</code></td>
<td>ä»»ä½•åœ°æ–¹éƒ½èƒ½å­˜å–</td>
</tr>
<tr>
<td><code>private</code></td>
<td>åƒ…é™æ–¼é¡åˆ¥å…§éƒ¨å¯å­˜å–ï¼ˆå°è£çš„æ ¸å¿ƒï¼‰</td>
</tr>
<tr>
<td><code>protected</code></td>
<td>åƒ…é™æ–¼é¡åˆ¥å…§éƒ¨èˆ‡å…¶å­é¡åˆ¥å¯å­˜å–</td>
</tr>
<tr>
<td><code>internal</code></td>
<td>åƒ…é™æ–¼åŒä¸€å‘½åç©ºé–“/å°ˆæ¡ˆ(Assembly)ä¸­çš„é¡åˆ¥å¯å­˜å–ï¼ˆé€²éšä½¿ç”¨ï¼‰</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="%F0%9F%93%A6-%E4%BD%BF%E7%94%A8%E5%B1%AC%E6%80%A7%E5%B0%81%E8%A3%9D%E6%AC%84%E4%BD%8D%E4%BB%A5-facade%E5%A4%96%E8%A7%80%E6%A8%A1%E5%BC%8F%E7%82%BA%E4%BE%8B">ğŸ“¦ ä½¿ç”¨å±¬æ€§å°è£æ¬„ä½ï¼Œä»¥ Facadeï¼ˆå¤–è§€ï¼‰æ¨¡å¼ç‚ºä¾‹</h2>
<h3 id="%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%E9%8A%80%E8%A1%8C%E6%AB%83%E5%93%A1%E5%B0%B1%E6%98%AF%E4%B8%80%E5%80%8B%E5%B0%81%E8%A3%9D%E5%BE%8C%E7%9A%84%E4%BB%8B%E9%9D%A2">æ ¸å¿ƒæ¦‚å¿µï¼šéŠ€è¡Œæ«ƒå“¡å°±æ˜¯ä¸€å€‹å°è£å¾Œçš„ä»‹é¢</h3>
<p>æƒ³åƒä¸€ä¸‹ä½ å»éŠ€è¡Œè¾¦ç†ææ¬¾ã€‚ä½ åªéœ€è¦èµ°åˆ°æ«ƒæª¯ï¼ŒæŠŠä½ çš„ææ¬¾å–®åŠè³‡æ–™äº¤çµ¦æ«ƒå“¡ï¼Œç„¶å¾Œå‘Šè¨´ä»–è¦æå¤šå°‘éŒ¢ã€‚</p>
<p>é€™ä½<strong>æ«ƒå“¡å°±æ˜¯ä¸€å€‹ã€ŒFacadeã€</strong>ã€‚</p>
<p>åœ¨ä½ çœ‹ä¸è¦‹çš„èƒŒå¾Œï¼Œæ«ƒå“¡å¯èƒ½éœ€è¦åšå¥½å¹¾ä»¶äº‹ï¼š</p>
<ol>
<li><strong>é©—è­‰å¸³æˆ¶</strong>ï¼šç¢ºèªä½ çš„å¸³è™Ÿæ˜¯å¦å­˜åœ¨ã€‚</li>
<li><strong>å®‰å…¨æª¢æŸ¥</strong>ï¼šç¢ºèªä½ çš„å¯†ç¢¼æ˜¯å¦æ­£ç¢ºã€‚</li>
<li><strong>è³‡é‡‘ç¢ºèª</strong>ï¼šæª¢æŸ¥ä½ çš„å¸³æˆ¶é¤˜é¡æ˜¯å¦è¶³å¤ ã€‚</li>
<li><strong>åŸ·è¡Œæ‰£æ¬¾</strong>ï¼šå¾ä½ çš„å¸³æˆ¶ä¸­æ‰£é™¤é‡‘é¡ã€‚</li>
<li><strong>è¨˜éŒ„äº¤æ˜“</strong>ï¼šåœ¨éŠ€è¡Œçš„äº¤æ˜“æ—¥èªŒä¸Šç•™ä¸‹ç´€éŒ„ã€‚</li>
</ol>
<p>ä½ ä¸éœ€è¦è¦ªè‡ªå»è·Ÿã€Œå¸³æˆ¶ç³»çµ±ã€ã€ã€Œå®‰å…¨ç³»çµ±ã€ã€ã€Œè³‡é‡‘ç³»çµ±ã€æ‰“äº¤é“ã€‚ä½ åªéœ€è¦è·Ÿã€Œæ«ƒå“¡ã€é€™å€‹å–®ä¸€çª—å£æºé€šã€‚Facade æ¨¡å¼å°±æ˜¯æ‰®æ¼”é€™ä½æ«ƒå“¡çš„è§’è‰²ï¼Œå°‡èƒŒå¾Œè¤‡é›œçš„æµç¨‹ç°¡åŒ–æˆä¸€å€‹ç°¡å–®çš„æ“ä½œã€‚</p>
<hr>
<h3 id="c-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E7%AF%84%E4%BE%8B">C# ç¨‹å¼ç¢¼ç¯„ä¾‹</h3>
<h4 id="1-%E8%A4%87%E9%9B%9C%E7%9A%84%E9%8A%80%E8%A1%8C%E5%BE%8C%E7%AB%AF%E5%AD%90%E7%B3%BB%E7%B5%B1-the-complex-subsystems">1. è¤‡é›œçš„éŠ€è¡Œå¾Œç«¯å­ç³»çµ± (The Complex Subsystems)</h4>
<p>é€™äº›æ˜¯éŠ€è¡Œå…§éƒ¨è™•ç†ä¸åŒæ¥­å‹™çš„ç³»çµ±ï¼Œå®¢æˆ¶é€šå¸¸ä¸æœƒç›´æ¥æ¥è§¸å®ƒå€‘ã€‚</p>
<pre class="hljs"><code><div><span class="hljs-comment">// å­ç³»çµ±1ï¼šå¸³æˆ¶é©—è­‰ç³»çµ±</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AccountService</span>
{
    <span class="hljs-comment">// æ¨¡æ“¬æª¢æŸ¥å¸³æˆ¶æ˜¯å¦å­˜åœ¨</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">CheckAccount</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> accountNumber</span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">$"  [å­ç³»çµ±] æ­£åœ¨é©—è­‰å¸³è™Ÿï¼š<span class="hljs-subst">{accountNumber}</span>"</span>);
        <span class="hljs-keyword">if</span> (accountNumber == <span class="hljs-string">"123-456-789"</span>)
        {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        Console.WriteLine(<span class="hljs-string">"  [å­ç³»çµ±] éŒ¯èª¤ï¼šå¸³è™Ÿä¸å­˜åœ¨ã€‚"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}

<span class="hljs-comment">// å­ç³»çµ±2ï¼šå®‰å…¨é©—è­‰ç³»çµ±</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SecurityService</span>
{
    <span class="hljs-comment">// æ¨¡æ“¬æª¢æŸ¥å¯†ç¢¼æ˜¯å¦æ­£ç¢º</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">CheckPinCode</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> accountNumber, <span class="hljs-keyword">int</span> pin</span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">"  [å­ç³»çµ±] æ­£åœ¨é©—è­‰å¯†ç¢¼..."</span>);
        <span class="hljs-keyword">if</span> (accountNumber == <span class="hljs-string">"123-456-789"</span> &amp;&amp; pin == <span class="hljs-number">8888</span>)
        {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        Console.WriteLine(<span class="hljs-string">"  [å­ç³»çµ±] éŒ¯èª¤ï¼šå¯†ç¢¼éŒ¯èª¤ã€‚"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}

<span class="hljs-comment">// å­ç³»çµ±3ï¼šè³‡é‡‘ç®¡ç†ç³»çµ±</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">FundsService</span>
{
    <span class="hljs-comment">// æ¨¡æ“¬å¸³æˆ¶é¤˜é¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">decimal</span> _balance = <span class="hljs-number">10000</span>m;

    <span class="hljs-comment">// æ¨¡æ“¬æª¢æŸ¥é¤˜é¡æ˜¯å¦è¶³å¤ </span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">HasSufficientFunds</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> amount</span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">"  [å­ç³»çµ±] æ­£åœ¨æª¢æŸ¥é¤˜é¡..."</span>);
        <span class="hljs-keyword">if</span> (_balance &gt;= amount)
        {
            Console.WriteLine(<span class="hljs-string">$"  [å­ç³»çµ±] ç›®å‰é¤˜é¡: <span class="hljs-subst">{_balance:C}</span>ï¼Œè¶³å¤ ææ¬¾ã€‚"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        Console.WriteLine(<span class="hljs-string">$"  [å­ç³»çµ±] éŒ¯èª¤ï¼šé¤˜é¡ä¸è¶³ï¼ç›®å‰é¤˜é¡: <span class="hljs-subst">{_balance:C}</span>"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">// æ¨¡æ“¬å­˜æ¬¾</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Deposit</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> amount</span>)</span>
    {
        _balance += amount;
        Console.WriteLine(<span class="hljs-string">$"  [å­ç³»çµ±] æˆåŠŸå­˜å…¥ <span class="hljs-subst">{amount:C}</span>ã€‚"</span>);
    }

    <span class="hljs-comment">// æ¨¡æ“¬ææ¬¾</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Withdraw</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> amount</span>)</span>
    {
        _balance -= amount;
        Console.WriteLine(<span class="hljs-string">$"  [å­ç³»çµ±] æˆåŠŸæå‡º <span class="hljs-subst">{amount:C}</span>ã€‚"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ShowBalance</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">$"  [å­ç³»çµ±] ç›®å‰å¸³æˆ¶æœ€çµ‚é¤˜é¡ç‚º: <span class="hljs-subst">{_balance:C}</span>"</span>);
    }
}
</div></code></pre>
<h4 id="2-%E9%8A%80%E8%A1%8C%E6%AB%83%E5%93%A1%E5%A4%96%E8%A7%80%E9%A1%9E%E5%88%A5-the-bankaccount-facade">2. éŠ€è¡Œæ«ƒå“¡å¤–è§€é¡åˆ¥ (The BankAccount Facade)</h4>
<p>é€™å€‹ <code>BankAccountFacade</code> å°±æ˜¯æˆ‘å€‘çš„æ«ƒå“¡ã€‚å®ƒç°¡åŒ–äº†æ‰€æœ‰æ“ä½œï¼Œæä¾›çµ¦å®¢æˆ¶ <code>Deposit</code> å’Œ <code>Withdraw</code> å…©å€‹ç°¡å–®çš„æ–¹æ³•ã€‚</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BankAccountFacade</span>
{
    <span class="hljs-comment">// Facade æŒæœ‰æ‰€æœ‰å­ç³»çµ±çš„åƒè€ƒ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> _accountNumber;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">int</span> _pin;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> AccountService _accountService;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> SecurityService _securityService;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> FundsService _fundsService;

    <span class="hljs-comment">// å®¢æˆ¶é–‹æˆ¶æ™‚ï¼Œå°±å»ºç«‹å¥½æ‰€æœ‰éœ€è¦çš„æœå‹™</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BankAccountFacade</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> accountNumber, <span class="hljs-keyword">int</span> pin</span>)</span>
    {
        _accountNumber = accountNumber;
        _pin = pin;

        <span class="hljs-comment">// åˆå§‹åŒ–æ‰€æœ‰å­ç³»çµ±</span>
        _accountService = <span class="hljs-keyword">new</span> AccountService();
        _securityService = <span class="hljs-keyword">new</span> SecurityService();
        _fundsService = <span class="hljs-keyword">new</span> FundsService();
    }

    <span class="hljs-comment">// æä¾›çµ¦å®¢æˆ¶çš„ã€Œå­˜æ¬¾ã€å–®ä¸€æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Deposit</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> amount</span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">$"\n======= é–‹å§‹è™•ç†å­˜æ¬¾ <span class="hljs-subst">{amount:C}</span> ======="</span>);
        <span class="hljs-comment">// 1. é©—è­‰å¸³è™Ÿ</span>
        <span class="hljs-keyword">if</span> (!_accountService.CheckAccount(_accountNumber)) <span class="hljs-keyword">return</span>;
        <span class="hljs-comment">// 2. é©—è­‰å¯†ç¢¼</span>
        <span class="hljs-keyword">if</span> (!_securityService.CheckPinCode(_accountNumber, _pin)) <span class="hljs-keyword">return</span>;

        <span class="hljs-comment">// 3. åŸ·è¡Œå­˜æ¬¾</span>
        _fundsService.Deposit(amount);
        _fundsService.ShowBalance();
        Console.WriteLine(<span class="hljs-string">"======= å­˜æ¬¾è™•ç†å®Œæˆ ======="</span>);
    }

    <span class="hljs-comment">// æä¾›çµ¦å®¢æˆ¶çš„ã€Œææ¬¾ã€å–®ä¸€æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Withdraw</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> amount</span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">$"\n======= é–‹å§‹è™•ç†ææ¬¾ <span class="hljs-subst">{amount:C}</span> ======="</span>);
        <span class="hljs-comment">// 1. é©—è­‰å¸³è™Ÿ</span>
        <span class="hljs-keyword">if</span> (!_accountService.CheckAccount(_accountNumber)) <span class="hljs-keyword">return</span>;
        <span class="hljs-comment">// 2. é©—è­‰å¯†ç¢¼</span>
        <span class="hljs-keyword">if</span> (!_securityService.CheckPinCode(_accountNumber, _pin)) <span class="hljs-keyword">return</span>;
        <span class="hljs-comment">// 3. æª¢æŸ¥é¤˜é¡</span>
        <span class="hljs-keyword">if</span> (!_fundsService.HasSufficientFunds(amount)) <span class="hljs-keyword">return</span>;

        <span class="hljs-comment">// 4. åŸ·è¡Œææ¬¾</span>
        _fundsService.Withdraw(amount);
        _fundsService.ShowBalance();
        Console.WriteLine(<span class="hljs-string">"======= ææ¬¾è™•ç†å®Œæˆ ======="</span>);
    }
}
</div></code></pre>
<h4 id="3-%E5%AE%A2%E6%88%B6%E7%AB%AF-the-client">3. å®¢æˆ¶ç«¯ (The Client)</h4>
<p>å®¢æˆ¶ï¼ˆä¹Ÿå°±æ˜¯æˆ‘å€‘ï¼‰åªéœ€è¦è·Ÿ <code>BankAccountFacade</code> äº’å‹•ï¼Œå®Œå…¨ä¸ç”¨ç†æœƒå¾Œç«¯çš„è¤‡é›œç³»çµ±ã€‚</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        <span class="hljs-comment">// å®¢æˆ¶ä¾†åˆ°éŠ€è¡Œï¼Œåªéœ€è¦æä¾›å¸³è™Ÿå¯†ç¢¼çµ¦æ«ƒå“¡(Facade)</span>
        <span class="hljs-keyword">var</span> myAccount = <span class="hljs-keyword">new</span> BankAccountFacade(<span class="hljs-string">"123-456-789"</span>, <span class="hljs-number">8888</span>);

        <span class="hljs-comment">// === æ¡ˆä¾‹1ï¼šæˆåŠŸææ¬¾ ===</span>
        myAccount.Withdraw(<span class="hljs-number">500</span>m);

        <span class="hljs-comment">// === æ¡ˆä¾‹2ï¼šæˆåŠŸå­˜æ¬¾ ===</span>
        myAccount.Deposit(<span class="hljs-number">2000</span>m);

        <span class="hljs-comment">// === æ¡ˆä¾‹3ï¼šææ¬¾å¤±æ•— (é¤˜é¡ä¸è¶³) ===</span>
        myAccount.Withdraw(<span class="hljs-number">20000</span>m);

        <span class="hljs-comment">// === æ¡ˆä¾‹4ï¼šä½¿ç”¨éŒ¯èª¤çš„å¯†ç¢¼é€²è¡Œæ“ä½œ ===</span>
        <span class="hljs-keyword">var</span> wrongAccount = <span class="hljs-keyword">new</span> BankAccountFacade(<span class="hljs-string">"123-456-789"</span>, <span class="hljs-number">9999</span>);
        wrongAccount.Withdraw(<span class="hljs-number">100</span>m);
    }
}
</div></code></pre>
<h3 id="%E5%9F%B7%E8%A1%8C%E7%B5%90%E6%9E%9C">åŸ·è¡Œçµæœ</h3>
<p>åŸ·è¡Œç¨‹å¼å¾Œï¼Œè¼¸å‡ºçµæœéå¸¸æ¸…æ™°åœ°å±•ç¤ºäº†æ•´å€‹æµç¨‹ï¼š</p>
<pre class="hljs"><code><div>======= é–‹å§‹è™•ç†ææ¬¾ NT$500.00 =======
  [å­ç³»çµ±] æ­£åœ¨é©—è­‰å¸³è™Ÿï¼š123-456-789
  [å­ç³»çµ±] æ­£åœ¨é©—è­‰å¯†ç¢¼...
  [å­ç³»çµ±] æ­£åœ¨æª¢æŸ¥é¤˜é¡...
  [å­ç³»çµ±] ç›®å‰é¤˜é¡: NT$10,000.00ï¼Œè¶³å¤ ææ¬¾ã€‚
  [å­ç³»çµ±] æˆåŠŸæå‡º NT$500.00ã€‚
  [å­ç³»çµ±] ç›®å‰å¸³æˆ¶æœ€çµ‚é¤˜é¡ç‚º: NT$9,500.00
======= ææ¬¾è™•ç†å®Œæˆ =======

======= é–‹å§‹è™•ç†å­˜æ¬¾ NT$2,000.00 =======
  [å­ç³»çµ±] æ­£åœ¨é©—è­‰å¸³è™Ÿï¼š123-456-789
  [å­ç³»çµ±] æ­£åœ¨é©—è­‰å¯†ç¢¼...
  [å­ç³»çµ±] æˆåŠŸå­˜å…¥ NT$2,000.00ã€‚
  [å­ç³»çµ±] ç›®å‰å¸³æˆ¶æœ€çµ‚é¤˜é¡ç‚º: NT$11,500.00
======= å­˜æ¬¾è™•ç†å®Œæˆ =======

======= é–‹å§‹è™•ç†ææ¬¾ NT$20,000.00 =======
  [å­ç³»çµ±] æ­£åœ¨é©—è­‰å¸³è™Ÿï¼š123-456-789
  [å­ç³»çµ±] æ­£åœ¨é©—è­‰å¯†ç¢¼...
  [å­ç³»çµ±] æ­£åœ¨æª¢æŸ¥é¤˜é¡...
  [å­ç³»çµ±] éŒ¯èª¤ï¼šé¤˜é¡ä¸è¶³ï¼ç›®å‰é¤˜é¡: NT$11,500.00

======= é–‹å§‹è™•ç†ææ¬¾ NT$100.00 =======
  [å­ç³»çµ±] æ­£åœ¨é©—è­‰å¸³è™Ÿï¼š123-456-789
  [å­ç³»çµ±] æ­£åœ¨é©—è­‰å¯†ç¢¼...
  [å­ç³»çµ±] éŒ¯èª¤ï¼šå¯†ç¢¼éŒ¯èª¤ã€‚
</div></code></pre>
<p>é€™å€‹ç¯„ä¾‹æ¸…æ¥šåœ°é¡¯ç¤ºï¼Œå®¢æˆ¶ç«¯ç¨‹å¼ç¢¼éå¸¸ç°¡å–®ï¼Œåªéœ€è¦å‘¼å« <code>myAccount.Withdraw()</code> å’Œ <code>myAccount.Deposit()</code>ã€‚æ‰€æœ‰å¸³æˆ¶ã€å®‰å…¨ã€è³‡é‡‘çš„æª¢æŸ¥é‚è¼¯éƒ½è¢«å®Œç¾åœ°å°è£åœ¨ <code>BankAccountFacade</code> è£¡é¢äº†ã€‚</p>
<hr>
<h1 id="%F0%9F%93%98-%E7%AC%AC-3-%E7%AB%A0%E7%B9%BC%E6%89%BF%E8%88%87%E5%A4%9A%E5%9E%8Binheritance--polymorphism">ğŸ“˜ ç¬¬ 3 ç« ï¼šç¹¼æ‰¿èˆ‡å¤šå‹ï¼ˆInheritance &amp; Polymorphismï¼‰</h1>
<h2 id="%F0%9F%8E%AF-%E6%95%99%E5%AD%B8%E7%9B%AE%E6%A8%99">ğŸ¯ æ•™å­¸ç›®æ¨™</h2>
<ul>
<li>ç†è§£ç¹¼æ‰¿çš„æ¦‚å¿µèˆ‡èªæ³•</li>
<li>èƒ½å¤ å®šç¾©çˆ¶é¡åˆ¥èˆ‡å­é¡åˆ¥</li>
<li>ç­è§£å¤šå‹çš„æ‡‰ç”¨æ–¹å¼ï¼ˆæ–¹æ³•è¦†å¯«ã€è™›æ“¬æ–¹æ³•ï¼‰</li>
<li>ç†Ÿæ‚‰ <code>base</code>, <code>virtual</code>, <code>override</code>, <code>new</code> çš„ç”¨æ³•</li>
</ul>
<hr>
<h2 id="%F0%9F%A7%AC-%E7%B9%BC%E6%89%BF%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">ğŸ§¬ ç¹¼æ‰¿çš„åŸºæœ¬æ¦‚å¿µ</h2>
<h3 id="%E5%AE%9A%E7%BE%A9">å®šç¾©</h3>
<ul>
<li>ç¹¼æ‰¿ï¼ˆInheritanceï¼‰æ˜¯è®“ä¸€å€‹é¡åˆ¥ï¼ˆå­é¡åˆ¥ï¼‰ç¹¼æ‰¿å¦ä¸€å€‹é¡åˆ¥ï¼ˆçˆ¶é¡åˆ¥ï¼‰çš„å±¬æ€§èˆ‡è¡Œç‚º</li>
<li>å¯ç”¨ä¾†å…±ç”¨é‚è¼¯ã€æ“´å……åŠŸèƒ½ã€å»ºç«‹å±¤æ¬¡é—œä¿‚</li>
</ul>
<h3 id="%E8%AA%9E%E6%B3%95">èªæ³•ï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Animal</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> name</span>)</span>
    {
        <span class="hljs-keyword">this</span>.Name = name;
        Console.WriteLine(<span class="hljs-string">"Animal çš„å»ºæ§‹å‡½å¼è¢«å‘¼å«ã€‚"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Eat</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{Name}</span> æ­£åœ¨åƒæ±è¥¿ã€‚"</span>);
    }
}

<span class="hljs-comment">//Dogæ˜¯ä¸€ç¨®Animalï¼Œæ•…Animalæœ‰çš„ä¸€èˆ¬ç‰¹æ€§Dogä¹Ÿéƒ½æœƒæœ‰ã€‚</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> : <span class="hljs-title">Animal</span>
{
    <span class="hljs-comment">//Dog å°‡æ“æœ‰ Name åŠ Eat åŠŸèƒ½</span>
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%9A-%E4%BD%BF%E7%94%A8-base-%E9%97%9C%E9%8D%B5%E5%AD%97">ğŸ“š ä½¿ç”¨ <code>base</code> é—œéµå­—</h2>
<ul>
<li><code>base</code> å¯ä»¥å‘¼å«çˆ¶é¡åˆ¥çš„å»ºæ§‹å­æˆ–æˆå“¡</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> : <span class="hljs-title">Animal</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Dog</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> name</span>) : <span class="hljs-title">base</span>(<span class="hljs-params">name</span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">"Dog çš„å»ºæ§‹å‡½å¼è¢«å‘¼å«ã€‚"</span>);
    }
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%94%81-%E6%96%B9%E6%B3%95%E8%A6%86%E5%AF%ABoverride">ğŸ” æ–¹æ³•è¦†å¯«ï¼ˆOverrideï¼‰</h2>
<ul>
<li>C# æ”¯æ´<strong>è™›æ“¬æ–¹æ³•</strong>ï¼ˆvirtualï¼‰èˆ‡<strong>è¦†å¯«æ–¹æ³•</strong>ï¼ˆoverrideï¼‰</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span>
{
    <span class="hljs-comment">//è™›æ“¬æ–¹æ³• (virtual)ï¼Œå…è¨±è¢«å­é¡è¦†å¯«</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Speak</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">"ä¸ç‰¹å®šçš„è²éŸ³"</span>);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Cat</span> : <span class="hljs-title">Animal</span>
{
    <span class="hljs-comment">//è¢«å­é¡åˆ¥ Cat è¦†å¯«</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Speak</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">"å–µå–µï¼"</span>);
    }
}
</div></code></pre>
<hr>
<h2 id="%E2%9C%82%EF%B8%8F-%E4%BD%BF%E7%94%A8-new-%E9%9A%B1%E8%97%8F%E6%88%90%E5%93%A1">âœ‚ï¸ ä½¿ç”¨ <code>new</code> éš±è—æˆå“¡</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Pig</span> : <span class="hljs-title">Animal</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> new <span class="hljs-keyword">void</span> <span class="hljs-title">Speak</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">"å“¼å“¼ï¼"</span>);
    }

    <span class="hljs-comment">//Pigs ç¨æœ‰çš„ Method: ç»ç¥­</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Sacrificed</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">"æˆ‘é¡˜èµ°ä¸Šç¥æ¡Œï¼Œåªç›¼ä»Šå¾Œåœ‹æ³°æ°‘å®‰ã€é¢¨èª¿é›¨é †!"</span>);
    }
}
</div></code></pre>
<p>ğŸ“Œ æ³¨æ„ï¼š<code>new</code> ä¸¦ä¸æœƒè¦†è“‹åŸæœ¬çš„æ–¹æ³•ï¼Œè€Œæœƒè®“çˆ¶é¡åˆ¥èˆ‡å­é¡åˆ¥æ“æœ‰ 2 å€‹åŒåçš„å‡½å¼ã€‚</p>
<hr>
<h2 id="%F0%9F%94%81-%E5%A4%9A%E5%9E%8Bpolymorphism">ğŸ” å¤šå‹ï¼ˆPolymorphismï¼‰</h2>
<ul>
<li>å¤šå‹å…è¨±ç”¨çˆ¶é¡å‹åƒè€ƒå­ç‰©ä»¶ï¼Œå‘¼å«è™›æ“¬æ–¹æ³•æ™‚æœƒåŸ·è¡Œå¯¦éš›é¡å‹çš„å¯¦ä½œ</li>
</ul>
<pre class="hljs"><code><div>Animal a = <span class="hljs-keyword">new</span> Cat();
a.Speak(); <span class="hljs-comment">// è¼¸å‡ºï¼šå–µå–µï¼ (override)</span>

a = <span class="hljs-keyword">new</span> Pig();
a.Speak(); <span class="hljs-comment">// è¼¸å‡ºï¼šä¸ç‰¹å®šçš„è²éŸ³ï¼ˆnewï¼‰</span>

Pig _pig = <span class="hljs-keyword">new</span> Pig();
_pig.Speak(); <span class="hljs-comment">// è¼¸å‡ºï¼šå“¼å“¼ï¼ï¼ˆnewï¼‰</span>
</div></code></pre>
<hr>
<h2 id="%F0%9F%A7%AA-%E5%AF%A6%E4%BD%9C%E7%AF%84%E4%BE%8B">ğŸ§ª å¯¦ä½œç¯„ä¾‹</h2>
<pre class="hljs"><code><div>List&lt;Animal&gt; zoo = <span class="hljs-keyword">new</span> List&lt;Animal&gt;
{
    <span class="hljs-keyword">new</span> Dog { Name = <span class="hljs-string">"å°é»ƒ"</span> },
    <span class="hljs-keyword">new</span> Cat { Name = <span class="hljs-string">"å°ç™½"</span> },
    <span class="hljs-keyword">new</span> Pig { Name = <span class="hljs-string">"å°é»‘"</span> }
};

<span class="hljs-keyword">foreach</span> (Animal animal <span class="hljs-keyword">in</span> zoo)
{
    animal.Speak(); <span class="hljs-comment">// åŸ·è¡Œå°æ‡‰çš„å¤šå‹æ–¹æ³•</span>
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%9D-%E7%B7%B4%E7%BF%92%E9%A1%8C">ğŸ“ ç·´ç¿’é¡Œ</h2>
<h3 id="%E9%A1%8C%E7%9B%AE-1">é¡Œç›® 1ï¼š</h3>
<p>å®šç¾©ä»¥ä¸‹é¡åˆ¥ç¹¼æ‰¿é—œä¿‚ï¼š</p>
<ul>
<li><code>Vehicle</code>ï¼šåŸºæœ¬è³‡è¨Šã€æ–¹æ³• <code>Start()</code></li>
<li><code>Car</code>ã€<code>Bus</code>ã€<code>Bike</code> ç¹¼æ‰¿ <code>Vehicle</code> ä¸¦è¦†å¯« <code>Start()</code> è¡Œç‚º</li>
</ul>
<h3 id="%E9%A1%8C%E7%9B%AE-2">é¡Œç›® 2ï¼š</h3>
<p>å»ºç«‹ <code>Shape</code> é¡åˆ¥ï¼Œä¸¦ç”±å…¶ç¹¼æ‰¿å‡º <code>Circle</code> èˆ‡ <code>Square</code>ï¼Œå®šç¾©è™›æ“¬æ–¹æ³• <code>GetArea()</code> ä¸¦è¦†å¯«ã€‚</p>
<hr>
<h2 id="%E2%9C%85-%E7%B7%B4%E7%BF%92%E9%A1%8C%E8%A7%A3%E7%AD%94">âœ… ç·´ç¿’é¡Œè§£ç­”</h2>
<h3 id="%E9%A1%8C%E7%9B%AE-1-%E8%A7%A3%E7%AD%94">é¡Œç›® 1 è§£ç­”ï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Vehicle</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>(<span class="hljs-params"></span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">"å•Ÿå‹•äº¤é€šå·¥å…·"</span>);
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Car</span> : <span class="hljs-title">Vehicle</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>(<span class="hljs-params"></span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">"æ±½è»Šç™¼å‹•ï¼"</span>);
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Bus</span> : <span class="hljs-title">Vehicle</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>(<span class="hljs-params"></span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">"å…¬è»Šå•Ÿå‹•ï¼"</span>);
}
</div></code></pre>
<h3 id="%E9%A1%8C%E7%9B%AE-2-%E8%A7%A3%E7%AD%94">é¡Œç›® 2 è§£ç­”ï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">double</span> <span class="hljs-title">GetArea</span>(<span class="hljs-params"></span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span> : <span class="hljs-title">Shape</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> Radius { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">double</span> <span class="hljs-title">GetArea</span>(<span class="hljs-params"></span>)</span> =&gt; Math.PI * Radius * Radius;
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%8C-%E5%9E%8B%E5%88%A5%E8%BD%89%E5%9E%8B">ğŸ“Œ å‹åˆ¥è½‰å‹</h2>
<pre class="hljs"><code><div><span class="hljs-comment">//å‘ä¸Šè½‰å‹ (Upcastingï¼Œæˆ‘å€‹äººç¨±ä¹‹ç‚ºã€Œå¤§è½‰å°ã€)</span>
Dog dog = <span class="hljs-keyword">new</span> Dog();
Animal animal = dog;
animal.Speak(); <span class="hljs-comment">//æ±ªæ±ª</span>

<span class="hljs-comment">//å‘ä¸‹è½‰å‹ (Downcastingï¼Œæˆ‘å€‹äººç¨±ä¹‹ç‚ºã€Œå°è½‰å¤§ã€)</span>
Pig pig = animal <span class="hljs-keyword">as</span> Pig; <span class="hljs-comment">//å»ºè­°ä½¿ç”¨ as</span>

<span class="hljs-comment">//as è½‰å‹æˆåŠŸï¼Œpig æœƒå¾—åˆ°ç‰©ä»¶åƒè€ƒï¼›</span>
<span class="hljs-comment">//å¦‚æœå¤±æ•—ï¼ˆä¾‹å¦‚ animal å…¶å¯¦æ˜¯ Dogï¼‰ï¼Œpig æœƒè¢«è¨­ç‚º nullï¼Œä¸æœƒæ‹‹å‡ºä¾‹å¤–ã€‚</span>
<span class="hljs-comment">//å¾ŒçºŒéœ€è¦æª¢æŸ¥ if (myDog != null)ã€‚</span>

<span class="hljs-comment">//å¼·åˆ¶è½‰å‹ï¼š Pig pig = (Pig)animal;</span>
<span class="hljs-comment">//å¦‚æœè½‰å‹å¤±æ•—ï¼Œæœƒç›´æ¥æ‹‹å‡º InvalidCastException ä¾‹å¤–ã€‚</span>
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%9A-%E5%B0%8F%E7%B5%90">ğŸ“š å°çµ</h2>
<table>
<thead>
<tr>
<th>æ¦‚å¿µ</th>
<th>é—œéµå­—</th>
<th>èªªæ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç¹¼æ‰¿</td>
<td><code>:</code></td>
<td>æ“´å……çˆ¶é¡åˆ¥åŠŸèƒ½</td>
</tr>
<tr>
<td>å¤šå‹</td>
<td><code>virtual</code>, <code>override</code></td>
<td>åŸ·è¡Œæ™‚æ±ºå®šå‘¼å«å“ªå€‹æ–¹æ³•</td>
</tr>
<tr>
<td>éš±è—</td>
<td><code>new</code></td>
<td>ç·¨è­¯æ™‚æ±ºå®šéš±è—åŸæœ¬æˆå“¡</td>
</tr>
</tbody>
</table>
<hr>
<h1 id="%F0%9F%93%98-%E7%AC%AC-4-%E7%AB%A0%E6%8A%BD%E8%B1%A1%E9%A1%9E%E5%88%A5%E8%88%87%E4%BB%8B%E9%9D%A2abstract-classes--interfaces">ğŸ“˜ ç¬¬ 4 ç« ï¼šæŠ½è±¡é¡åˆ¥èˆ‡ä»‹é¢ï¼ˆAbstract Classes &amp; Interfacesï¼‰</h1>
<h2 id="%F0%9F%8E%AF-%E6%95%99%E5%AD%B8%E7%9B%AE%E6%A8%99">ğŸ¯ æ•™å­¸ç›®æ¨™</h2>
<ul>
<li>äº†è§£æŠ½è±¡é¡åˆ¥èˆ‡ä»‹é¢çš„å·®ç•°èˆ‡ç”¨é€”</li>
<li>å¯¦ä½œæŠ½è±¡é¡åˆ¥èˆ‡ä»‹é¢</li>
<li>å­¸æœƒä½¿ç”¨å¤šä»‹é¢è¨­è¨ˆã€æ“´å……èˆ‡çµ„åˆç³»çµ±</li>
<li>ç†Ÿæ‚‰æŠ½è±¡åŒ–åœ¨ç‰©ä»¶å°å‘ä¸­çš„å¯¦å‹™æ‡‰ç”¨</li>
</ul>
<hr>
<h2 id="%F0%9F%A7%B1-%E6%8A%BD%E8%B1%A1%E9%A1%9E%E5%88%A5abstract-class">ğŸ§± æŠ½è±¡é¡åˆ¥ï¼ˆabstract classï¼‰</h2>
<h3 id="%E5%AE%9A%E7%BE%A9">å®šç¾©</h3>
<p>æŠ½è±¡é¡åˆ¥æ˜¯ä¸€ç¨®**ä¸èƒ½è¢«å¯¦ä¾‹åŒ–(new)**çš„é¡åˆ¥ï¼Œå®ƒå­˜åœ¨çš„ç›®çš„å°±æ˜¯ç‚ºäº†è¢«ç¹¼æ‰¿ã€‚å…¶ä¸­å¯åŒ…å«ï¼š</p>
<ul>
<li>å·²å¯¦ä½œçš„æ–¹æ³•èˆ‡å±¬æ€§ï¼ˆè¡Œç‚ºæ¨¡æ¿ï¼‰</li>
<li>æœªå¯¦ä½œçš„æ–¹æ³•ï¼ˆæŠ½è±¡æ–¹æ³•ï¼‰</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Speak</span>(<span class="hljs-params"></span>)</span>;  <span class="hljs-comment">// æŠ½è±¡æ–¹æ³•ï¼šå­é¡åˆ¥å¿…é ˆå¯¦ä½œ</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Sleep</span>(<span class="hljs-params"></span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{Name}</span> åœ¨ç¡è¦º..."</span>);
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%94%BB-%E5%AF%A6%E4%BD%9C%E6%8A%BD%E8%B1%A1%E9%A1%9E%E5%88%A5">ğŸ”» å¯¦ä½œæŠ½è±¡é¡åˆ¥</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> : <span class="hljs-title">Animal</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Speak</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{Name}</span> æ±ªæ±ªå«ï¼"</span>);
    }
}
</div></code></pre>
<h3 id="%E8%AA%AA%E6%98%8E">èªªæ˜ï¼š</h3>
<ul>
<li>æŠ½è±¡é¡åˆ¥æä¾›<strong>å…±ç”¨é‚è¼¯</strong></li>
<li>å­é¡åˆ¥<strong>å¼·åˆ¶ä½¿ç”¨ override é—œéµå­—å¯¦ä½œ</strong>æŠ½è±¡æ–¹æ³•</li>
</ul>
<hr>
<h2 id="%F0%9F%93%8E-%E4%BB%8B%E9%9D%A2interface">ğŸ“ ä»‹é¢ï¼ˆinterfaceï¼‰</h2>
<h3 id="%E5%AE%9A%E7%BE%A9">å®šç¾©</h3>
<p>ä»‹é¢æ˜¯ä¸€çµ„<strong>æ²’æœ‰å¯¦ä½œ</strong>çš„æ–¹æ³•èˆ‡å±¬æ€§çš„é›†åˆï¼Œåƒ…å®šç¾©è¦æ ¼ï¼Œé¡ä¼¼ã€Œåˆç´„ã€ç´„å®šã€ã€‚<br>
åˆç´„æˆ–ç´„å®šçš„å…§å®¹æ˜ç™½çš„å®šç¾©äº†å¯ä»¥åŸ·è¡Œçš„æ–¹æ³•åç¨±ã€‚</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IFlyable</span>
{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Fly</span>(<span class="hljs-params"></span>)</span>;
}
</div></code></pre>
<h3 id="%E5%AF%A6%E4%BD%9C">å¯¦ä½œï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Bird</span> : <span class="hljs-title">IFlyable</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Fly</span>(<span class="hljs-params"></span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">"å°é³¥é£›èµ·ä¾†äº†ï¼"</span>);
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%A7%A9-%E5%A4%9A%E9%87%8D%E4%BB%8B%E9%9D%A2%E5%AF%A6%E4%BD%9C">ğŸ§© å¤šé‡ä»‹é¢å¯¦ä½œ</h2>
<p>C# æ”¯æ´é¡åˆ¥å¯¦ä½œå¤šå€‹ä»‹é¢ï¼š<BR>
Duck å¯ä»¥é£›ä¹Ÿå¯ä»¥èµ°ï¼Œä¸”é£›è·Ÿèµ°æ˜¯ç”±ä¸åŒçš„ç”Ÿç†ç³»çµ±è² è²¬ã€‚</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IFlyable</span>
{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Fly</span>(<span class="hljs-params"></span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IWalkable</span>
{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Walk</span>(<span class="hljs-params"></span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">WingSystem</span> : <span class="hljs-title">IFlyable</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Charge</span>(<span class="hljs-params"></span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Duck</span> : <span class="hljs-title">WingSystem</span>, <span class="hljs-title">IWalkable</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Fly</span>(<span class="hljs-params"></span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">"é´¨å­é£›èµ·ä¾†ï¼"</span>);
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Walk</span>(<span class="hljs-params"></span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">"é´¨å­èµ°èµ·ä¾†ï¼"</span>);
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Charge</span>(<span class="hljs-params"></span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">"é´¨å­æŒ¯ç¿…ç–¾é£›ï¼"</span>);
}
</div></code></pre>
<p>é³¥é¡å¤§å¤šæ•¸éƒ½æœƒå¯¦ä½œ <code>IFlyable</code> åŠ <code>IWalkable</code>ï¼Œä½†é™¸åœ°ç”Ÿç‰©å¤§å¤šæ•¸éƒ½ä¸æœƒå¯¦ä½œ <code>IFlyable</code>ï¼Œå› æ­¤ï¼š</p>
<pre class="hljs"><code><div><span class="hljs-comment">// é€™å°±æ˜¯ä¸€å€‹éŒ¯èª¤çš„ç”¨æ³•ï¼Œå› ç‚ºä½©ä½©è±¬æ²’æœ‰å¯¦ä½œ IFlyableã€‚</span>
Pig pä½©ä½©è±¬ = <span class="hljs-keyword">new</span> Pig();

<span class="hljs-comment">// 1. è½‰å‹å¤±æ•—</span>
IFlyable fly = pä½©ä½©è±¬;

<span class="hljs-comment">//2. ç„¡æ³•å‘¼å« Fly() å‡½å¼ã€‚</span>
fly.Fly();
</div></code></pre>
<hr>
<h2 id="%F0%9F%86%9A-%E6%8A%BD%E8%B1%A1%E9%A1%9E%E5%88%A5-vs-%E4%BB%8B%E9%9D%A2-%E6%AF%94%E8%BC%83%E8%A1%A8">ğŸ†š æŠ½è±¡é¡åˆ¥ vs ä»‹é¢ æ¯”è¼ƒè¡¨</h2>
<table>
<thead>
<tr>
<th>é …ç›®</th>
<th>æŠ½è±¡é¡åˆ¥ï¼ˆabstractï¼‰</th>
<th>ä»‹é¢ï¼ˆinterfaceï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¯å¦æœ‰å¯¦ä½œï¼Ÿ</td>
<td>âœ… å¯æœ‰éƒ¨åˆ†å¯¦ä½œ</td>
<td>âŒ C# 7 å‰ä¸å¯æœ‰ä»»ä½•å¯¦ä½œ, C# 8 å¾Œå¯ä»¥</td>
</tr>
<tr>
<td>ç¹¼æ‰¿æ•¸é‡</td>
<td>âŒ åƒ…é™å–®ä¸€ç¹¼æ‰¿</td>
<td>âœ… å¯å¤šä»‹é¢å¯¦ä½œ</td>
</tr>
<tr>
<td>è¨­è¨ˆç”¨é€”</td>
<td>æä¾›æ¨¡æ¿èˆ‡æ“´å……æ©Ÿåˆ¶</td>
<td>å®šç¾©åˆç´„èˆ‡è¡Œç‚ºè¦æ ¼</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="%F0%9F%93%9D-%E7%B7%B4%E7%BF%92%E9%A1%8C">ğŸ“ ç·´ç¿’é¡Œ</h2>
<h3 id="%E9%A1%8C%E7%9B%AE-1">é¡Œç›® 1ï¼š</h3>
<p>å®šç¾©ä¸€å€‹æŠ½è±¡é¡åˆ¥ <code>Shape</code>ï¼Œå…¶ä¸­åŒ…å«æŠ½è±¡æ–¹æ³• <code>GetArea()</code>ï¼Œå†ç”± <code>Rectangle</code>, <code>Circle</code> ç¹¼æ‰¿ä¸¦å¯¦ä½œã€‚</p>
<h3 id="%E9%A1%8C%E7%9B%AE-2">é¡Œç›® 2ï¼š</h3>
<p>å®šç¾©ä»‹é¢ <code>IDriveable</code>ï¼Œè®“ <code>Car</code> å’Œ <code>Motorbike</code> å¯¦ä½œè©²ä»‹é¢ä¸¦æä¾› <code>Drive()</code> å¯¦ä½œã€‚</p>
<hr>
<h2 id="%E2%9C%85-%E7%B7%B4%E7%BF%92%E9%A1%8C%E8%A7%A3%E7%AD%94">âœ… ç·´ç¿’é¡Œè§£ç­”</h2>
<h3 id="%E9%A1%8C%E7%9B%AE-1-%E8%A7%A3%E7%AD%94">é¡Œç›® 1 è§£ç­”ï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">double</span> <span class="hljs-title">GetArea</span>(<span class="hljs-params"></span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Rectangle</span> : <span class="hljs-title">Shape</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> Width { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> Height { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">double</span> <span class="hljs-title">GetArea</span>(<span class="hljs-params"></span>)</span> =&gt; Width * Height;
}
</div></code></pre>
<h3 id="%E9%A1%8C%E7%9B%AE-2-%E8%A7%A3%E7%AD%94">é¡Œç›® 2 è§£ç­”ï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IDriveable</span>
{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Drive</span>(<span class="hljs-params"></span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Car</span> : <span class="hljs-title">IDriveable</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Drive</span>(<span class="hljs-params"></span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">"æ±½è»Šè¡Œé§›ä¸­"</span>);
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Motorbike</span> : <span class="hljs-title">IDriveable</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Drive</span>(<span class="hljs-params"></span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">"æ©Ÿè»Šè¡Œé§›ä¸­"</span>);
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%A7%A0-%E5%B0%8F%E7%B5%90">ğŸ§  å°çµ</h2>
<ul>
<li>æŠ½è±¡é¡åˆ¥æä¾›<strong>å…±ç”¨çµæ§‹èˆ‡éƒ¨åˆ†é‚è¼¯</strong></li>
<li>ä»‹é¢å®šç¾©<strong>è¡Œç‚ºåˆç´„</strong>ï¼Œé©åˆå»ºç«‹ç³»çµ±å”å®š</li>
<li><B><U>æŠ½è±¡é¡åˆ¥é©ç”¨æ–¼ã€Œis-a(æ˜¯ä¸€ç¨®ä»€éº¼ï¼šAnimal - Pig - Speak)ã€ï¼Œ
ä»‹é¢é©ç”¨æ–¼ã€Œcan-do(å¯ä»¥åšä»€éº¼ï¼šIFlyable - Duck - Fly)ã€</U></B></li>
</ul>
<hr>
<h1 id="%F0%9F%93%98-%E7%AC%AC-5-%E7%AB%A0%E9%A1%9E%E5%88%A5%E8%A8%AD%E8%A8%88%E5%8E%9F%E5%89%87%E8%88%87%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5">ğŸ“˜ ç¬¬ 5 ç« ï¼šé¡åˆ¥è¨­è¨ˆåŸå‰‡èˆ‡ä¾è³´æ³¨å…¥</h1>
<h2 id="%F0%9F%8E%AF-%E6%95%99%E5%AD%B8%E7%9B%AE%E6%A8%99">ğŸ¯ æ•™å­¸ç›®æ¨™</h2>
<ul>
<li>å­¸ç¿’å¦‚ä½•è¨­è¨ˆä½è€¦åˆã€é«˜å…§èšçš„é¡åˆ¥çµæ§‹</li>
<li>ç†è§£ã€Œå–®ä¸€è·è²¬åŸå‰‡ã€ï¼ˆSRPï¼‰èˆ‡ã€Œä¾è³´åè½‰åŸå‰‡ã€ï¼ˆDIPï¼‰</li>
<li>å¯¦ä½œã€Œå»ºæ§‹å­æ³¨å…¥ã€èˆ‡ã€Œä»‹é¢æ³¨å…¥ã€</li>
<li>ç†è§£ä¾è³´æ³¨å…¥å®¹å™¨çš„åŸºæœ¬è§’è‰²ï¼ˆé€²éšï¼‰</li>
</ul>
<hr>
<h2 id="%F0%9F%A7%B1-%E5%96%AE%E4%B8%80%E8%81%B7%E8%B2%AC%E5%8E%9F%E5%89%87-srpsingle-responsibility-principle">ğŸ§± å–®ä¸€è·è²¬åŸå‰‡ SRP(Single Responsibility Principle)</h2>
<blockquote>
<p>ä¸€å€‹é¡åˆ¥æ‡‰è©²åªè² è²¬ä¸€ä»¶äº‹æƒ…ã€‚</p>
</blockquote>
<h3 id="%E2%9D%8C-%E5%8F%8D%E4%BE%8B">âŒ åä¾‹</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Report</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Title;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Generate</span>(<span class="hljs-params"></span>)</span> { <span class="hljs-comment">/* ... */</span> }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SaveToFile</span>(<span class="hljs-params"></span>)</span> { <span class="hljs-comment">/* IO æ“ä½œ */</span> }
}
</div></code></pre>
<p>ğŸ” å•é¡Œï¼š</p>
<ul>
<li><code>Report</code> é¡åˆ¥è² è²¬å…©ä»¶äº‹ï¼šã€Œç”¢ç”Ÿå ±è¡¨ã€èˆ‡ã€Œæª”æ¡ˆè™•ç†ã€</li>
</ul>
<hr>
<h3 id="%E2%9C%85-%E9%87%8D%E6%A7%8B%E5%BE%8C%E7%9A%84-srp">âœ… é‡æ§‹å¾Œçš„ SRP</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ReportGenerator</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-title">GenerateReport</span>(<span class="hljs-params"></span>)</span> =&gt; <span class="hljs-string">"å ±è¡¨å…§å®¹..."</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">FileSaver</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Save</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> content</span>)</span>
    {
        File.WriteAllText(<span class="hljs-string">"report.txt"</span>, content);
    }
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%8C%9F-openclosed-principle%E9%96%8B%E6%94%BE%E5%B0%81%E9%96%89%E5%8E%9F%E5%89%87">ğŸŒŸ Open/Closed Principleï¼ˆé–‹æ”¾å°é–‰åŸå‰‡ï¼‰</h2>
<hr>
<h3 id="%F0%9F%93%8C-%E5%AE%9A%E7%BE%A9definition">ğŸ“Œ å®šç¾©ï¼ˆDefinitionï¼‰</h3>
<blockquote>
<p><strong>Open/Closed Principleï¼ˆOCPï¼‰</strong> æŒ‡çš„æ˜¯ï¼š</p>
<blockquote>
<p><strong>ã€Œè»Ÿé«”å¯¦é«”ï¼ˆå¦‚ï¼šé¡åˆ¥ã€æ¨¡çµ„ã€å‡½å¼ï¼‰æ‡‰å°æ“´å……é–‹æ”¾ï¼Œå°ä¿®æ”¹å°é–‰ã€‚ã€</strong></p>
</blockquote>
<p>æ„å³ï¼š</p>
<ul>
<li><strong>å¯ä»¥é€éæ“´å±•çš„æ–¹å¼ä¾†æ”¹è®Šè¡Œç‚º</strong></li>
<li><strong>ä½†ä¸è¦ç›´æ¥ä¿®æ”¹ç¾æœ‰çš„ç¨‹å¼ç¢¼</strong></li>
</ul>
</blockquote>
<p>é€™æ˜¯ <strong>SOLID</strong> åŸå‰‡ä¸­çš„ç¬¬äºŒå€‹åŸå‰‡ï¼Œæ˜¯ç‰©ä»¶å°å‘è¨­è¨ˆä¸­æå‡å¯ç¶­è­·æ€§èˆ‡æ“´å±•æ€§çš„æ ¸å¿ƒæ€æƒ³ã€‚</p>
<hr>
<h2 id="%F0%9F%94%8D-%E7%AC%AC%E4%B8%80%E5%8E%9F%E7%90%86%E6%8B%86%E8%A7%A3first-principles-breakdown">ğŸ” ç¬¬ä¸€åŸç†æ‹†è§£ï¼ˆFirst-Principles Breakdownï¼‰</h2>
<table>
<thead>
<tr>
<th>å…ƒç´ </th>
<th>è§£é‡‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ç›®æ¨™</strong></td>
<td>åœ¨ä¸ä¿®æ”¹æ—¢æœ‰ç¨‹å¼ç¢¼çš„å‰æä¸‹ï¼Œå…è¨±ç³»çµ±è¡Œç‚ºçš„æ”¹è®Š</td>
</tr>
<tr>
<td><strong>åŸå› </strong></td>
<td>æ¸›å°‘å°ç¾æœ‰ç©©å®šæ¨¡çµ„çš„å½±éŸ¿ï¼Œé™ä½ bugã€æé«˜ç©©å®šæ€§</td>
</tr>
<tr>
<td><strong>é”æˆæ–¹æ³•</strong></td>
<td>ä½¿ç”¨æŠ½è±¡ï¼ˆinterface / abstract classï¼‰èˆ‡å¤šå‹ï¼ˆpolymorphismï¼‰ä¾†æ“´å±•åŠŸèƒ½</td>
</tr>
<tr>
<td><strong>é—œéµæŠ€è¡“</strong></td>
<td>Interface, Inheritance, Delegation, Strategy Pattern</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="%E2%9D%8C-%E9%8C%AF%E8%AA%A4%E7%A4%BA%E7%AF%84%E9%81%95%E5%8F%8D-ocp">âŒ éŒ¯èª¤ç¤ºç¯„ï¼ˆé•å OCPï¼‰</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DiscountCalculator</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">CalculateDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> customerType, <span class="hljs-keyword">double</span> amount</span>)</span>
    {
        <span class="hljs-keyword">if</span> (customerType == <span class="hljs-string">"Regular"</span>)
        {
            <span class="hljs-keyword">return</span> amount * <span class="hljs-number">0.9</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (customerType == <span class="hljs-string">"Premium"</span>)
        {
            <span class="hljs-keyword">return</span> amount * <span class="hljs-number">0.8</span>;
        }
        <span class="hljs-keyword">else</span>
        {
            <span class="hljs-keyword">return</span> amount;
        }
    }
}
</div></code></pre>
<h3 id="%E5%95%8F%E9%A1%8C%E5%88%86%E6%9E%90">å•é¡Œåˆ†æï¼š</h3>
<ul>
<li>å¦‚æœåŠ å…¥æ–°çš„ <code>customerType</code>ï¼ˆå¦‚ VIPã€Enterpriseï¼‰ï¼Œå°±å¿…é ˆ <strong>ä¿®æ”¹é€™æ®µç¨‹å¼ç¢¼</strong>ã€‚</li>
<li>é•å OCPï¼Œå› ç‚ºé€™ä¸æ˜¯ã€Œå°é–‰å°ä¿®æ”¹ã€çš„è¨­è¨ˆã€‚</li>
</ul>
<hr>
<h2 id="%E2%9C%85-%E6%AD%A3%E7%A2%BA%E7%A4%BA%E7%AF%84%E7%AC%A6%E5%90%88-ocp">âœ… æ­£ç¢ºç¤ºç¯„ï¼ˆç¬¦åˆ OCPï¼‰</h2>
<h3 id="1-%E6%8A%BD%E8%B1%A1%E7%AD%96%E7%95%A5%E4%BB%8B%E9%9D%A2">1. æŠ½è±¡ç­–ç•¥ä»‹é¢ï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IDiscountStrategy</span>
{
    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">ApplyDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">double</span> amount</span>)</span>;
}
</div></code></pre>
<h3 id="2-%E5%90%84%E7%A8%AE%E6%8A%98%E6%89%A3%E7%AD%96%E7%95%A5%E6%93%B4%E5%B1%95%E4%B8%8D%E4%BF%AE%E6%94%B9">2. å„ç¨®æŠ˜æ‰£ç­–ç•¥ï¼ˆæ“´å±•ä¸ä¿®æ”¹ï¼‰ï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RegularDiscount</span> : <span class="hljs-title">IDiscountStrategy</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">ApplyDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">double</span> amount</span>)</span> =&gt; amount * <span class="hljs-number">0.9</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PremiumDiscount</span> : <span class="hljs-title">IDiscountStrategy</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">ApplyDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">double</span> amount</span>)</span> =&gt; amount * <span class="hljs-number">0.8</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NoDiscount</span> : <span class="hljs-title">IDiscountStrategy</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">ApplyDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">double</span> amount</span>)</span> =&gt; amount;
}
</div></code></pre>
<h3 id="3-%E6%8A%98%E6%89%A3%E8%A8%88%E7%AE%97%E5%99%A8">3. æŠ˜æ‰£è¨ˆç®—å™¨ï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DiscountCalculator</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IDiscountStrategy _discountStrategy;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DiscountCalculator</span>(<span class="hljs-params">IDiscountStrategy discountStrategy</span>)</span>
    {
        _discountStrategy = discountStrategy;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span>(<span class="hljs-params"><span class="hljs-keyword">double</span> amount</span>)</span>
    {
        <span class="hljs-keyword">return</span> _discountStrategy.ApplyDiscount(amount);
    }
}
</div></code></pre>
<h3 id="4-%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F">4. ä½¿ç”¨æ–¹å¼ï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"></span>)</span>
    {
        IDiscountStrategy strategy = <span class="hljs-keyword">new</span> PremiumDiscount(); <span class="hljs-comment">// å¯æ›¿æ›ç‚º RegularDiscount, NoDiscount</span>
        <span class="hljs-keyword">var</span> calculator = <span class="hljs-keyword">new</span> DiscountCalculator(strategy);

        <span class="hljs-keyword">double</span> finalAmount = calculator.Calculate(<span class="hljs-number">1000</span>);
        Console.WriteLine(<span class="hljs-string">$"æœ€çµ‚é‡‘é¡ï¼š<span class="hljs-subst">{finalAmount}</span>"</span>);
    }
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%8E%AF-%E9%81%94%E6%88%90-ocp-%E7%9A%84%E6%95%88%E6%9E%9C">ğŸ¯ é”æˆ OCP çš„æ•ˆæœï¼š</h2>
<table>
<thead>
<tr>
<th>é …ç›®</th>
<th>èªªæ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>ğŸ”„ æ“´å±•èƒ½åŠ›</td>
<td>æ–°å¢ <code>EnterpriseDiscount</code> åƒ…éœ€å¯¦ä½œä¸€å€‹æ–°é¡åˆ¥ï¼Œä¸éœ€å‹•åˆ°å…¶ä»–ç¨‹å¼ç¢¼</td>
</tr>
<tr>
<td>ğŸ›¡ï¸ å®‰å…¨æ€§</td>
<td>ä¸æœƒç ´å£æ—¢æœ‰è¡Œç‚ºï¼Œé™ä½é¢¨éšª</td>
</tr>
<tr>
<td>ğŸ§© æ¨¡çµ„åŒ–</td>
<td>æ¯å€‹æŠ˜æ‰£ç­–ç•¥æ˜¯ç¨ç«‹æ¨¡çµ„ï¼Œæ˜“æ–¼æ¸¬è©¦èˆ‡æ›¿æ›</td>
</tr>
<tr>
<td>ğŸ’¡ è¨­è¨ˆæ¨¡å¼</td>
<td>ä½¿ç”¨äº† <strong>ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰</strong> ä¾†å¯¦ç¾ OCP</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="%F0%9F%93%9A-%E5%BB%B6%E4%BC%B8%E6%87%89%E7%94%A8%E5%A0%B4%E6%99%AF">ğŸ“š å»¶ä¼¸æ‡‰ç”¨å ´æ™¯ï¼š</h2>
<ul>
<li>é‡‘æµè™•ç†ï¼ˆä¸åŒæ”¯ä»˜æ–¹å¼ï¼‰</li>
<li>è¨‚å–®è¨ˆç®—ï¼ˆä¸åŒä¿ƒéŠ·ç­–ç•¥ï¼‰</li>
<li>æ—¥èªŒç³»çµ±ï¼ˆä¸åŒå¯«å…¥æ–¹å¼ï¼šæª”æ¡ˆã€è³‡æ–™åº«ã€é›²ç«¯ï¼‰</li>
<li>é©—è­‰é‚è¼¯ï¼ˆä¸åŒé©—è­‰æ–¹å¼ï¼šå¸³å¯†ã€OTPã€OAuthï¼‰</li>
</ul>
<hr>
<h2 id="%F0%9F%A7%A0-%E7%B8%BD%E7%B5%90%E8%AA%9E">ğŸ§  ç¸½çµèªï¼š</h2>
<table>
<thead>
<tr>
<th>å±¬æ€§</th>
<th>åƒ¹å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>é–‹æ”¾æ€§</strong></td>
<td>å¯ä»¥æ–°å¢åŠŸèƒ½</td>
</tr>
<tr>
<td><strong>å°é–‰æ€§</strong></td>
<td>ä¸éœ€å‹•åˆ°ç©©å®šçš„ç¨‹å¼ç¢¼</td>
</tr>
<tr>
<td><strong>æ‰‹æ®µ</strong></td>
<td>æŠ½è±¡åŒ– + å¤šå‹æ€§ + è¨­è¨ˆæ¨¡å¼</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="%F0%9F%94%81-%E4%BE%9D%E8%B3%B4%E5%8F%8D%E8%BD%89%E5%8E%9F%E5%89%87-dip">ğŸ” ä¾è³´åè½‰åŸå‰‡ DIP</h2>
<blockquote>
<p>é«˜éšæ¨¡çµ„ä¸æ‡‰è©²ä¾è³´ä½éšæ¨¡çµ„ï¼Œå…©è€…æ‡‰ä¾è³´æŠ½è±¡ã€‚</p>
</blockquote>
<hr>
<h3 id="%E2%9C%85-%E5%BB%BA%E6%A7%8B%E5%AD%90%E6%B3%A8%E5%85%A5constructor-injection">âœ… å»ºæ§‹å­æ³¨å…¥ï¼ˆConstructor Injectionï¼‰</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">ILogger</span>
{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Log</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> message</span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">FileLogger</span> : <span class="hljs-title">ILogger</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Log</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> message</span>)</span>
    {
        File.AppendAllText(<span class="hljs-string">"log.txt"</span>, message + <span class="hljs-string">"\n"</span>);
    }
}

âŒ <span class="hljs-comment">//æ°¸é åªèƒ½ç”¨ FileLoggerï¼Œä»¥å¾Œæœ‰æ›´é€²éšå¥½ç”¨çš„ Logger ä¹Ÿç”¨ä¸äº†ã€‚</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserService</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> FileLogger _logger;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">UserService</span>(<span class="hljs-params">FileLogger logger</span>)</span>
    {
        _logger = logger;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CreateUser</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> name</span>)</span>
    {
        _logger.Log(<span class="hljs-string">$"ä½¿ç”¨è€… <span class="hljs-subst">{name}</span> å»ºç«‹æˆåŠŸ"</span>);
    }
}

âŒ <span class="hljs-comment">// é€™å°±è®Šæˆé«˜éšçš„ UserService ä¾è³´ä½éšçš„ FileLogger</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserService</span>
{
    <span class="hljs-keyword">private</span> FileLogger _logger = <span class="hljs-keyword">new</span> FileLogger();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CreateUser</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> name</span>)</span>
    {
        _logger.Log(<span class="hljs-string">$"ä½¿ç”¨è€… <span class="hljs-subst">{name}</span> å»ºç«‹æˆåŠŸ"</span>);
    }
}

âœ… <span class="hljs-comment">//ä¾è³´ç”±æ³¨å…¥ä¾†å®Œæˆï¼Œä¸”ä¾è³´çš„å°è±¡æ˜¯æŠ½è±¡ï¼Œä»¥å¾Œå„ç¨® Logger éƒ½å¯ä»¥è¢«æ”¾é€²ä¾†ç”¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserService</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ILogger _logger;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">UserService</span>(<span class="hljs-params">ILogger logger</span>)</span>
    {
        _logger = logger;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CreateUser</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> name</span>)</span>
    {
        _logger.Log(<span class="hljs-string">$"ä½¿ç”¨è€… <span class="hljs-subst">{name}</span> å»ºç«‹æˆåŠŸ"</span>);
    }
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%A7%AA-%E4%BD%BF%E7%94%A8%E7%AF%84%E4%BE%8B">ğŸ§ª ä½¿ç”¨ç¯„ä¾‹</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">var</span> logger = <span class="hljs-keyword">new</span> FileLogger();
<span class="hljs-keyword">var</span> service = <span class="hljs-keyword">new</span> UserService(logger);
service.CreateUser(<span class="hljs-string">"å°æ˜"</span>);
</div></code></pre>
<hr>
<h2 id="%F0%9F%94%84-%E4%BB%8B%E9%9D%A2%E6%B3%A8%E5%85%A5interface-injection">ğŸ”„ ä»‹é¢æ³¨å…¥ï¼ˆInterface Injectionï¼‰</h2>
<h3 id="%E5%AF%A6%E4%BD%9C%E7%AF%84%E4%BE%8B">å¯¦ä½œç¯„ä¾‹</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">INotifier</span>
{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Notify</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> msg</span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SmsNotifier</span> : <span class="hljs-title">INotifier</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Notify</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> msg</span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">$"SMS: <span class="hljs-subst">{msg}</span>"</span>);
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NotificationService</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Send</span>(<span class="hljs-params">INotifier notifier</span>)</span>
    {
        notifier.Notify(<span class="hljs-string">"æ‚¨æœ‰æ–°é€šçŸ¥"</span>);
    }
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%9D-%E7%B7%B4%E7%BF%92%E9%A1%8C">ğŸ“ ç·´ç¿’é¡Œ</h2>
<h3 id="%E9%A1%8C%E7%9B%AE-1">é¡Œç›® 1ï¼š</h3>
<p>å¯¦ä½œä¸€å€‹ <code>ILogger</code> ä»‹é¢èˆ‡å…©ç¨®å¯¦ä½œé¡åˆ¥ï¼ˆ<code>ConsoleLogger</code>ã€<code>FileLogger</code>ï¼‰</p>
<h3 id="%E9%A1%8C%E7%9B%AE-2">é¡Œç›® 2ï¼š</h3>
<p>è¨­è¨ˆä¸€å€‹ <code>EmailService</code> ä½¿ç”¨å»ºæ§‹å­æ³¨å…¥ <code>ILogger</code></p>
<hr>
<h2 id="%E2%9C%85-%E8%A7%A3%E7%AD%94%E5%8F%83%E8%80%83">âœ… è§£ç­”åƒè€ƒ</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConsoleLogger</span> : <span class="hljs-title">ILogger</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Log</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> message</span>)</span> =&gt; Console.WriteLine(<span class="hljs-string">$"[Console] <span class="hljs-subst">{message}</span>"</span>);
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EmailService</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ILogger _logger;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">EmailService</span>(<span class="hljs-params">ILogger logger</span>)</span>
    {
        _logger = logger;
    }
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%9A-%E5%B0%8F%E7%B5%90">ğŸ“š å°çµ</h2>
<ul>
<li>ä½è€¦åˆçš„é—œéµåœ¨æ–¼ã€Œä¾è³´æŠ½è±¡ã€è€Œéå…·é«”å¯¦ä½œ</li>
<li>ä½¿ç”¨æ³¨å…¥æ¨¡å¼å¯ä»¥è®“ç¨‹å¼æ¨¡çµ„æ›´å…·å¯æ¸¬è©¦æ€§èˆ‡å¯ç¶­è­·æ€§</li>
<li>å–®ä¸€è·è²¬åŸå‰‡èƒ½æå‡ç³»çµ±å¯ç¶­è­·æ€§èˆ‡æ“´å……æ€§</li>
</ul>
<hr>
<h1 id="%F0%9F%93%98-%E7%AC%AC-6-%E7%AB%A0%E6%B3%9B%E5%9E%8B%E8%88%87%E9%9B%86%E5%90%88generics--collections">ğŸ“˜ ç¬¬ 6 ç« ï¼šæ³›å‹èˆ‡é›†åˆï¼ˆGenerics &amp; Collectionsï¼‰</h1>
<h2 id="%F0%9F%8E%AF-%E6%95%99%E5%AD%B8%E7%9B%AE%E6%A8%99">ğŸ¯ æ•™å­¸ç›®æ¨™</h2>
<ul>
<li>ç­è§£æ³›å‹çš„æ¦‚å¿µèˆ‡ç”¨é€”</li>
<li>èƒ½å®šç¾©æ³›å‹é¡åˆ¥èˆ‡æ³›å‹æ–¹æ³•</li>
<li>ç†Ÿæ‚‰ C# å…§å»ºæ³›å‹é›†åˆï¼ˆListã€Dictionaryã€Queueã€Stackï¼‰</li>
<li>å¯¦ä½œæ³›å‹è³‡æ–™çµæ§‹èˆ‡æ‡‰ç”¨</li>
</ul>
<hr>
<h2 id="%F0%9F%93%A6-%E6%B3%9B%E5%9E%8B%E6%A6%82%E5%BF%B5generics">ğŸ“¦ æ³›å‹æ¦‚å¿µï¼ˆGenericsï¼‰</h2>
<h3 id="%E5%95%8F%E9%A1%8C%E8%83%8C%E6%99%AF">å•é¡ŒèƒŒæ™¯</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">IntBox</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Print</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(Value);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">StringBox</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Print</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(Value);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BooleanBox</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Print</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(Value);
    }
}
<span class="hljs-comment">//......</span>
<span class="hljs-comment">//....</span>
<span class="hljs-comment">//.........</span>
</div></code></pre>
<p>ğŸ”§ ç¼ºé»ï¼šæ¯ç¨®å‹åˆ¥éƒ½éœ€è¦ä¸€å€‹é¡åˆ¥ â†’ ç„¡æ³•é‡ç”¨</p>
<hr>
<h3 id="%E2%9C%85-%E6%B3%9B%E5%9E%8B%E9%A1%9E%E5%88%A5%E5%AE%9A%E7%BE%A9">âœ… æ³›å‹é¡åˆ¥å®šç¾©</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Box</span>&lt;<span class="hljs-title">T</span>&gt;
{
    <span class="hljs-keyword">public</span> T Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Print</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(Value);
    }
}
</div></code></pre>
<h3 id="%E4%BD%BF%E7%94%A8">ä½¿ç”¨ï¼š</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">var</span> intBox = <span class="hljs-keyword">new</span> Box&lt;<span class="hljs-keyword">int</span>&gt; { Value = <span class="hljs-number">123</span> };
intBox.Print();

<span class="hljs-keyword">var</span> stringBox = <span class="hljs-keyword">new</span> Box&lt;<span class="hljs-keyword">string</span>&gt; { Value = <span class="hljs-string">"Hello"</span> };
stringBox.Print();
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%A6-%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95">ğŸ“¦ æ³›å‹æ–¹æ³•</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Printer</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> Print&lt;T&gt;(T data)
    {
        Console.WriteLine(data);
    }
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%9A-%E5%B8%B8%E7%94%A8%E6%B3%9B%E5%9E%8B%E9%9B%86%E5%90%88">ğŸ“š å¸¸ç”¨æ³›å‹é›†åˆ</h2>
<h3 id="listt%E5%8F%AF%E8%AE%8A%E9%95%B7%E5%BA%A6%E9%99%A3%E5%88%97"><code>List&lt;T&gt;</code>ï¼šå¯è®Šé•·åº¦é™£åˆ—</h3>
<pre class="hljs"><code><div>List&lt;<span class="hljs-keyword">string</span>&gt; names = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-keyword">string</span>&gt;();
names.Add(<span class="hljs-string">"å°æ˜"</span>);
names.Add(<span class="hljs-string">"å°ç¾"</span>);
</div></code></pre>
<h3 id="dictionarykv%E9%8D%B5%E5%80%BC%E5%B0%8D%E9%9B%86%E5%90%88"><code>Dictionary&lt;K,V&gt;</code>ï¼šéµå€¼å°é›†åˆ</h3>
<pre class="hljs"><code><div>Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">int</span>&gt; ages = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">int</span>&gt;();
ages[<span class="hljs-string">"å°æ˜"</span>] = <span class="hljs-number">20</span>;
</div></code></pre>
<h3 id="queuet%E5%85%88%E9%80%B2%E5%85%88%E5%87%BAfifo"><code>Queue&lt;T&gt;</code>ï¼šå…ˆé€²å…ˆå‡ºï¼ˆFIFOï¼‰</h3>
<pre class="hljs"><code><div>Queue&lt;<span class="hljs-keyword">string</span>&gt; tasks = <span class="hljs-keyword">new</span> Queue&lt;<span class="hljs-keyword">string</span>&gt;();
tasks.Enqueue(<span class="hljs-string">"ä»»å‹™A"</span>);
tasks.Dequeue(); <span class="hljs-comment">// å‡ºéšŠ</span>
</div></code></pre>
<h3 id="stackt%E5%BE%8C%E9%80%B2%E5%85%88%E5%87%BAlifo"><code>Stack&lt;T&gt;</code>ï¼šå¾Œé€²å…ˆå‡ºï¼ˆLIFOï¼‰</h3>
<pre class="hljs"><code><div>Stack&lt;<span class="hljs-keyword">string</span>&gt; history = <span class="hljs-keyword">new</span> Stack&lt;<span class="hljs-keyword">string</span>&gt;();
history.Push(<span class="hljs-string">"é é¢1"</span>);
history.Pop(); <span class="hljs-comment">// å›åˆ°ä¸Šä¸€é </span>
</div></code></pre>
<hr>
<h2 id="%F0%9F%A7%AA-%E5%AF%A6%E4%BD%9C%E6%B3%9B%E5%9E%8B-stack">ğŸ§ª å¯¦ä½œï¼šæ³›å‹ Stack</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyStack</span>&lt;<span class="hljs-title">T</span>&gt;
{
    <span class="hljs-keyword">private</span> List&lt;T&gt; _list = <span class="hljs-keyword">new</span> List&lt;T&gt;();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Push</span>(<span class="hljs-params">T item</span>)</span> =&gt; _list.Add(item);
    <span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">Pop</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> item = _list[_list.Count - <span class="hljs-number">1</span>];
        _list.RemoveAt(_list.Count - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> item;
    }
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%9D-%E7%B7%B4%E7%BF%92%E9%A1%8C">ğŸ“ ç·´ç¿’é¡Œ</h2>
<h3 id="%E9%A1%8C%E7%9B%AE-1">é¡Œç›® 1ï¼š</h3>
<p>å®šç¾©æ³›å‹é¡åˆ¥ <code>Pair&lt;T1, T2&gt;</code>ï¼Œå¯åŒæ™‚å„²å­˜å…©ç¨®å‹åˆ¥çš„å€¼</p>
<h3 id="%E9%A1%8C%E7%9B%AE-2">é¡Œç›® 2ï¼š</h3>
<p>ä½¿ç”¨ <code>Dictionary&lt;string, List&lt;int&gt;&gt;</code> è¨˜éŒ„æ¯å€‹å­¸ç”Ÿçš„å¤šæ¬¡æ¸¬é©—æˆç¸¾</p>
<hr>
<h2 id="%E2%9C%85-%E8%A7%A3%E7%AD%94%E5%8F%83%E8%80%83">âœ… è§£ç­”åƒè€ƒ</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Pair</span>&lt;<span class="hljs-title">T1</span>, <span class="hljs-title">T2</span>&gt;
{
    <span class="hljs-keyword">public</span> T1 First { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> T2 Second { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</div></code></pre>
<pre class="hljs"><code><div>Dictionary&lt;<span class="hljs-keyword">string</span>, List&lt;<span class="hljs-keyword">int</span>&gt;&gt; scores = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, List&lt;<span class="hljs-keyword">int</span>&gt;&gt;();
scores[<span class="hljs-string">"å°æ˜"</span>] = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-keyword">int</span>&gt; { <span class="hljs-number">90</span>, <span class="hljs-number">85</span>, <span class="hljs-number">88</span> };
</div></code></pre>
<hr>
<h2 id="%F0%9F%A7%A0-%E5%B0%8F%E7%B5%90">ğŸ§  å°çµ</h2>
<table>
<thead>
<tr>
<th>é¡å‹</th>
<th>ç‰¹æ€§</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>List&lt;T&gt;</code></td>
<td>å‹•æ…‹é™£åˆ—</td>
</tr>
<tr>
<td><code>Dictionary&lt;K,V&gt;</code></td>
<td>éµå€¼å°æŸ¥è©¢</td>
</tr>
<tr>
<td><code>Queue&lt;T&gt;</code></td>
<td>æ’éšŠè™•ç†ï¼ˆFIFOï¼‰</td>
</tr>
<tr>
<td><code>Stack&lt;T&gt;</code></td>
<td>å›æœ”å †ç–Šï¼ˆLIFOï¼‰</td>
</tr>
</tbody>
</table>
<p>æ³›å‹æ˜¯æ’°å¯«å¯é‡è¤‡ä½¿ç”¨ã€å‹åˆ¥å®‰å…¨ç¨‹å¼ç¢¼çš„é—œéµã€‚</p>
<hr>
<h1 id="%F0%9F%93%98-%E7%AC%AC-7-%E7%AB%A0%E9%80%B2%E9%9A%8E%E6%B3%9B%E5%9E%8B">ğŸ“˜ ç¬¬ 7 ç« ï¼šé€²éšæ³›å‹</h1>
<ul>
<li><strong>æ³›å‹çš„æ ¸å¿ƒæ€æƒ³ï¼š</strong> æ³›å‹å…è¨±æˆ‘å€‘åœ¨è¨­è¨ˆé¡åˆ¥ã€ä»‹é¢å’Œæ–¹æ³•æ™‚ï¼Œå°‡ã€Œå‹åˆ¥ã€æœ¬èº«ä½œç‚ºä¸€å€‹åƒæ•¸ã€‚é€™è®“æˆ‘å€‘å¯ä»¥ç·¨å¯«å‡º <strong>å‹åˆ¥å®‰å…¨ (Type-Safe)</strong> ä¸”å¯é‡ç”¨çš„ç¨‹å¼ç¢¼ï¼Œè€Œç„¡éœ€ç‚ºæ¯ç¨®è³‡æ–™å‹åˆ¥éƒ½é‡å¯«ä¸€æ¬¡ã€‚</li>
<li><strong>æ³›å‹è§£æ±ºçš„å•é¡Œï¼š</strong> åœ¨æ²’æœ‰æ³›å‹ä¹‹å‰ï¼Œè‹¥è¦å¯«ä¸€å€‹å¯å„²å­˜ä»»ä½•å‹åˆ¥çš„å®¹å™¨ï¼Œé€šå¸¸ä½¿ç”¨ <code>object</code> å‹åˆ¥ã€‚ä½†é€™æ¨£åšæœ‰å…©å€‹ç¼ºé»ï¼š
<ol>
<li><strong>æ•ˆèƒ½å•é¡Œï¼š</strong> å€¼å‹åˆ¥ï¼ˆå¦‚ <code>int</code>, <code>double</code>ï¼‰å­˜å…¥æ™‚éœ€è¦ã€Œè£ç®±ã€(Boxing)ï¼Œå–å‡ºæ™‚éœ€è¦ã€Œæ‹†ç®±ã€(Unboxing)ï¼Œé€™æœƒå¸¶ä¾†é¡å¤–çš„æ•ˆèƒ½é–‹éŠ·ã€‚</li>
<li><strong>å‹åˆ¥ä¸å®‰å…¨ï¼š</strong> å¾å®¹å™¨å–å‡º <code>object</code> å¾Œï¼Œéœ€è¦æ‰‹å‹•è½‰å‹å›åŸå§‹å‹åˆ¥ï¼Œä¸€ä¸å°å¿ƒå°±å¯èƒ½è½‰å‹å¤±æ•—è€Œå°è‡´åŸ·è¡Œæ™‚æœŸéŒ¯èª¤ã€‚</li>
</ol>
</li>
<li><strong>æ³›å‹ç´„æŸ (<code>where T : ...</code>)</strong>
<ul>
<li>æœ‰æ™‚æˆ‘å€‘éœ€è¦å°æ³›å‹åƒæ•¸ <code>T</code> åšä¸€äº›é™åˆ¶ï¼Œç¢ºä¿å®ƒå…·å‚™æŸäº›èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œæˆ‘å€‘å¯èƒ½éœ€è¦ <code>T</code> å¿…é ˆæ˜¯ä¸€å€‹é¡åˆ¥ã€å¿…é ˆæœ‰é è¨­å»ºæ§‹å‡½å¼ï¼Œæˆ–å¿…é ˆå¯¦ä½œæŸå€‹ä»‹é¢ã€‚</li>
<li>å¸¸ç”¨ç´„æŸï¼š<code>where T : class</code> (å¿…é ˆæ˜¯åƒè€ƒå‹åˆ¥), <code>where T : struct</code> (å¿…é ˆæ˜¯å¯¦å€¼å‹åˆ¥), <code>where T : new()</code> (å¿…é ˆæœ‰å…¬é–‹ç„¡åƒæ•¸å»ºæ§‹å‡½å¼), <code>where T : SomeBaseClass</code>, <code>where T : ISomeInterface</code>ã€‚</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Box</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">where</span> <span class="hljs-title">T</span> : <span class="hljs-title">class</span>
{
    <span class="hljs-keyword">public</span> T Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">var</span> b1 = <span class="hljs-keyword">new</span> Box&lt;<span class="hljs-keyword">int</span>&gt;();âŒ
<span class="hljs-keyword">var</span> b2 = <span class="hljs-keyword">new</span> Box&lt;Dog&gt;();âœ…

<span class="hljs-comment">//</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Box</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">where</span> <span class="hljs-title">T</span> : <span class="hljs-title">struct</span>
{
    <span class="hljs-keyword">public</span> T Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
<span class="hljs-keyword">var</span> b3 = <span class="hljs-keyword">new</span> Box&lt;<span class="hljs-keyword">int</span>&gt;();âœ…
<span class="hljs-keyword">var</span> b4 = <span class="hljs-keyword">new</span> Box&lt;Dog&gt;();âŒ
</div></code></pre>
<hr>
<h1 id="%F0%9F%93%9D-%E4%B8%AD%E9%AB%98%E9%9A%8E-oop-%E7%B7%B4%E7%BF%92%E9%A1%8C%E8%A8%82%E5%96%AE%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88">ğŸ“ ä¸­é«˜éš OOP ç·´ç¿’é¡Œï¼šè¨‚å–®ç³»çµ±è¨­è¨ˆ</h1>
<h3 id="%E9%A1%8C%E7%9B%AE%E8%AA%AA%E6%98%8E">é¡Œç›®èªªæ˜</h3>
<p>è«‹è¨­è¨ˆä¸€å€‹ç°¡æ˜“ã€Œè¨‚å–®ç³»çµ±ã€ï¼Œéœ€åŒ…å«ä»¥ä¸‹è¦æ±‚ï¼š</p>
<hr>
<h3 id="1-%E5%95%86%E5%93%81product"><strong>1. å•†å“ï¼ˆProductï¼‰</strong></h3>
<ul>
<li>
<p><strong>æŠ½è±¡é¡åˆ¥ <code>Product</code></strong></p>
<ul>
<li>
<p>å±¬æ€§ï¼š</p>
<ul>
<li><code>string Name</code></li>
<li><code>decimal Price</code></li>
</ul>
</li>
<li>
<p>æŠ½è±¡æ–¹æ³•ï¼š</p>
<ul>
<li><code>string GetDescription()</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>è«‹å¯¦ä½œå…©ç¨®å•†å“ï¼š</p>
<ol>
<li><code>Book</code>ï¼ˆæ›¸ç±ï¼‰ï¼šé¡å¤–å±¬æ€§ <code>Author</code></li>
<li><code>Food</code>ï¼ˆé£Ÿå“ï¼‰ï¼šé¡å¤–å±¬æ€§ <code>ExpirationDate</code></li>
</ol>
</li>
<li>
<p>å„è‡ªè¦†å¯« <code>GetDescription()</code>ï¼Œé¡¯ç¤ºè©³ç´°è³‡è¨Šï¼ˆåŒ…å«é¡å¤–å±¬æ€§ï¼‰ã€‚</p>
</li>
</ul>
<hr>
<h3 id="2-%E6%8A%98%E6%89%A3%E7%AD%96%E7%95%A5discount"><strong>2. æŠ˜æ‰£ç­–ç•¥ï¼ˆDiscountï¼‰</strong></h3>
<ul>
<li>
<p><strong>ä»‹é¢ <code>IDiscountStrategy</code></strong></p>
<ul>
<li>
<p>æ–¹æ³•ï¼š</p>
<ul>
<li><code>decimal ApplyDiscount(decimal originalPrice)</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>å¯¦ä½œä»¥ä¸‹æŠ˜æ‰£ç­–ç•¥ï¼š</p>
<ol>
<li><code>NoDiscount</code>ï¼ˆç„¡æŠ˜æ‰£ï¼‰</li>
<li><code>PercentageDiscount</code>ï¼ˆç™¾åˆ†æ¯”æŠ˜æ‰£ï¼Œå»ºæ§‹å­æ¥å—æŠ˜æ‰£ç™¾åˆ†æ¯”ï¼‰</li>
<li><code>ThresholdDiscount</code>ï¼ˆæ»¿é¡æŠ˜æ‰£ï¼Œå»ºæ§‹å­æ¥å—æ»¿é¡é‡‘é¡èˆ‡æŠ˜æ‰£é‡‘é¡ï¼‰</li>
</ol>
</li>
</ul>
<hr>
<h3 id="3-%E8%A8%82%E5%96%AE%E9%A0%85%E7%9B%AEorderitem"><strong>3. è¨‚å–®é …ç›®ï¼ˆOrderItemï¼‰</strong></h3>
<ul>
<li>
<p>å±¬æ€§ï¼š</p>
<ul>
<li><code>Product Product</code></li>
<li><code>int Quantity</code></li>
<li><code>IDiscountStrategy DiscountStrategy</code></li>
</ul>
</li>
<li>
<p>æ–¹æ³•ï¼š</p>
<ul>
<li><code>decimal GetTotalPrice()</code>
è¨ˆç®— <code>(å–®åƒ¹ Ã— æ•¸é‡)</code> å¾Œå†å¥—ç”¨æŠ˜æ‰£ç­–ç•¥ã€‚</li>
</ul>
</li>
</ul>
<hr>
<h3 id="4-%E8%A8%82%E5%96%AEorder"><strong>4. è¨‚å–®ï¼ˆOrderï¼‰</strong></h3>
<ul>
<li>
<p>å±¬æ€§ï¼š</p>
<ul>
<li><code>List&lt;OrderItem&gt; Items</code></li>
<li><code>DateTime OrderDate</code></li>
</ul>
</li>
<li>
<p>æ–¹æ³•ï¼š</p>
<ul>
<li><code>void AddItem(OrderItem item)</code>
éœ€æª¢æŸ¥åŒé¡å•†å“æ˜¯å¦å·²å­˜åœ¨ï¼Œè‹¥å­˜åœ¨å‰‡åˆä½µæ•¸é‡ã€‚</li>
<li><code>decimal GetTotalAmount()</code>
å›å‚³æ•´å¼µè¨‚å–®çš„ç¸½é‡‘é¡ã€‚</li>
<li><code>void PrintOrderDetails()</code>
é€é …åˆ—å°å•†å“è³‡è¨Šèˆ‡å°è¨ˆï¼Œæœ€å¾Œå°å‡ºç¸½é‡‘é¡ã€‚</li>
</ul>
</li>
</ul>
<hr>
<h3 id="5-%E4%BE%8B%E5%A4%96%E8%99%95%E7%90%86exception-handling"><strong>5. ä¾‹å¤–è™•ç†ï¼ˆException Handlingï¼‰</strong></h3>
<ul>
<li>è‹¥æ–°å¢çš„ <code>OrderItem</code> æ•¸é‡å°æ–¼ç­‰æ–¼ 0ï¼Œæ‡‰æ‹‹å‡ºè‡ªè¨‚ä¾‹å¤– <code>InvalidQuantityException</code>ã€‚</li>
<li>è‹¥æŠ˜æ‰£ç­–ç•¥è¨ˆç®—å¾Œåƒ¹æ ¼å°æ–¼ 0ï¼Œæ‡‰è‡ªå‹•èª¿æ•´ç‚º 0 ä¸¦ç´€éŒ„è­¦å‘Šè¨Šæ¯ã€‚</li>
</ul>
<hr>
<h3 id="6-%E6%B8%AC%E8%A9%A6%E6%83%85%E5%A2%83"><strong>6. æ¸¬è©¦æƒ…å¢ƒ</strong></h3>
<p>è«‹åœ¨ <code>Main()</code> ä¸­å®Œæˆä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>å»ºç«‹å¹¾å€‹ <code>Book</code> èˆ‡ <code>Food</code> ç‰©ä»¶ã€‚</li>
<li>å»ºç«‹å¤šç¨® <code>IDiscountStrategy</code> å¯¦ä¾‹ï¼ˆå¦‚ç„¡æŠ˜æ‰£ã€æ‰“å…«æŠ˜ã€æ»¿ 500 æ¸› 50ï¼‰ã€‚</li>
<li>å»ºç«‹ä¸€å¼µ <code>Order</code>ï¼ŒåŠ å…¥ä¸åŒçš„ <code>OrderItem</code>ï¼Œä¸¦å¥—ç”¨ä¸åŒæŠ˜æ‰£ç­–ç•¥ã€‚</li>
<li>å°å‡ºå®Œæ•´è¨‚å–®æ˜ç´°èˆ‡ç¸½é‡‘é¡ã€‚</li>
<li>å˜—è©¦æ–°å¢æ•¸é‡ç‚º 0 çš„å•†å“ï¼Œè§¸ç™¼ä¾‹å¤–è™•ç†ä¸¦æ•æ‰éŒ¯èª¤è¨Šæ¯ã€‚</li>
</ol>
<hr>
<p>ğŸ’¡ <strong>è¨­è¨ˆè¦é»</strong>ï¼š</p>
<ul>
<li>éœ€æ­£ç¢ºä½¿ç”¨ <strong>æŠ½è±¡é¡åˆ¥ã€ä»‹é¢ã€å¤šå‹ã€å°è£ã€ç¹¼æ‰¿</strong>ã€‚</li>
<li>æŠ˜æ‰£ç­–ç•¥å¿…é ˆå¯ä»¥å‹•æ…‹æ›¿æ›ï¼ˆç­–ç•¥æ¨¡å¼ï¼‰ã€‚</li>
<li>è¨‚å–®èˆ‡è¨‚å–®é …ç›®çš„é—œè¯æ‡‰è©²ç¬¦åˆã€Œä¸€å¼µè¨‚å–®åŒ…å«å¤šå€‹è¨‚å–®é …ç›®ã€çš„é—œä¿‚ã€‚</li>
<li>é©ç•¶ä½¿ç”¨ä¾‹å¤–è™•ç†ä¿è­‰ç³»çµ±ç©©å®šã€‚</li>
</ul>
<hr>
<pre class="hljs"><code><div><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-comment">// ========== è‡ªè¨‚ä¾‹å¤– ==========</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">InvalidQuantityException</span> : <span class="hljs-title">Exception</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">InvalidQuantityException</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> message</span>) : <span class="hljs-title">base</span>(<span class="hljs-params">message</span>)</span> { }
}

<span class="hljs-comment">// ========== æŠ½è±¡é¡åˆ¥ï¼šå•†å“ ==========</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Product</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> Price { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Product</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> name, <span class="hljs-keyword">decimal</span> price</span>)</span>
    {
        <span class="hljs-keyword">if</span> (price &lt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentException(<span class="hljs-string">"åƒ¹æ ¼ä¸èƒ½ç‚ºè² æ•¸"</span>);

        Name = name;
        Price = price;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">string</span> <span class="hljs-title">GetDescription</span>(<span class="hljs-params"></span>)</span>;
}

<span class="hljs-comment">// ========== å•†å“é¡åˆ¥ï¼šæ›¸ç± ==========</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Book</span> : <span class="hljs-title">Product</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Author { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Book</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> name, <span class="hljs-keyword">decimal</span> price, <span class="hljs-keyword">string</span> author</span>)
        : <span class="hljs-title">base</span>(<span class="hljs-params">name, price</span>)</span>
    {
        Author = author;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">string</span> <span class="hljs-title">GetDescription</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">return</span> <span class="hljs-string">$"æ›¸ç±: <span class="hljs-subst">{Name}</span>, ä½œè€…: <span class="hljs-subst">{Author}</span>, å–®åƒ¹: <span class="hljs-subst">{Price:C}</span>"</span>;
    }
}

<span class="hljs-comment">// ========== å•†å“é¡åˆ¥ï¼šé£Ÿå“ ==========</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Food</span> : <span class="hljs-title">Product</span>
{
    <span class="hljs-keyword">public</span> DateTime ExpirationDate { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Food</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> name, <span class="hljs-keyword">decimal</span> price, DateTime expirationDate</span>)
        : <span class="hljs-title">base</span>(<span class="hljs-params">name, price</span>)</span>
    {
        ExpirationDate = expirationDate;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">string</span> <span class="hljs-title">GetDescription</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">return</span> <span class="hljs-string">$"é£Ÿå“: <span class="hljs-subst">{Name}</span>, æœ‰æ•ˆæœŸé™: <span class="hljs-subst">{ExpirationDate:yyyy-MM-dd}</span>, å–®åƒ¹: <span class="hljs-subst">{Price:C}</span>"</span>;
    }
}

<span class="hljs-comment">// ========== æŠ˜æ‰£ç­–ç•¥ä»‹é¢ ==========</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IDiscountStrategy</span>
{
    <span class="hljs-function"><span class="hljs-keyword">decimal</span> <span class="hljs-title">ApplyDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> originalPrice</span>)</span>;
}

<span class="hljs-comment">// ç„¡æŠ˜æ‰£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NoDiscount</span> : <span class="hljs-title">IDiscountStrategy</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> <span class="hljs-title">ApplyDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> originalPrice</span>)</span> =&gt; originalPrice;
}

<span class="hljs-comment">// ç™¾åˆ†æ¯”æŠ˜æ‰£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PercentageDiscount</span> : <span class="hljs-title">IDiscountStrategy</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">decimal</span> _percentage; <span class="hljs-comment">// ä¾‹å¦‚ 0.2 ä»£è¡¨æ‰“ 8 æŠ˜</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PercentageDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> percentage</span>)</span>
    {
        <span class="hljs-keyword">if</span> (percentage &lt; <span class="hljs-number">0</span> || percentage &gt; <span class="hljs-number">1</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentException(<span class="hljs-string">"æŠ˜æ‰£ç™¾åˆ†æ¯”å¿…é ˆä»‹æ–¼ 0 èˆ‡ 1 ä¹‹é–“"</span>);

        _percentage = percentage;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> <span class="hljs-title">ApplyDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> originalPrice</span>)</span>
    {
        <span class="hljs-keyword">decimal</span> result = originalPrice * (<span class="hljs-number">1</span> - _percentage);
        <span class="hljs-keyword">return</span> result &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : result;
    }
}

<span class="hljs-comment">// æ»¿é¡æŠ˜æ‰£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ThresholdDiscount</span> : <span class="hljs-title">IDiscountStrategy</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">decimal</span> _threshold;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">decimal</span> _discountAmount;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThresholdDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> threshold, <span class="hljs-keyword">decimal</span> discountAmount</span>)</span>
    {
        _threshold = threshold;
        _discountAmount = discountAmount;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> <span class="hljs-title">ApplyDiscount</span>(<span class="hljs-params"><span class="hljs-keyword">decimal</span> originalPrice</span>)</span>
    {
        <span class="hljs-keyword">decimal</span> result = originalPrice;
        <span class="hljs-keyword">if</span> (originalPrice &gt;= _threshold)
            result -= _discountAmount;

        <span class="hljs-keyword">return</span> result &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : result;
    }
}

<span class="hljs-comment">// ========== è¨‚å–®é …ç›® ==========</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">OrderItem</span>
{
    <span class="hljs-keyword">public</span> Product Product { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Quantity { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> IDiscountStrategy DiscountStrategy { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">OrderItem</span>(<span class="hljs-params">Product product, <span class="hljs-keyword">int</span> quantity, IDiscountStrategy discountStrategy</span>)</span>
    {
        <span class="hljs-keyword">if</span> (quantity &lt;= <span class="hljs-number">0</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidQuantityException(<span class="hljs-string">"å•†å“æ•¸é‡å¿…é ˆå¤§æ–¼ 0"</span>);

        Product = product;
        Quantity = quantity;
        DiscountStrategy = discountStrategy ?? <span class="hljs-keyword">new</span> NoDiscount();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> <span class="hljs-title">GetTotalPrice</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">decimal</span> total = Product.Price * Quantity;
        <span class="hljs-keyword">decimal</span> discounted = DiscountStrategy.ApplyDiscount(total);

        <span class="hljs-keyword">if</span> (discounted &lt; <span class="hljs-number">0</span>)
        {
            Console.WriteLine(<span class="hljs-string">"[è­¦å‘Š] æŠ˜æ‰£å¾Œé‡‘é¡å°æ–¼ 0ï¼Œè‡ªå‹•èª¿æ•´ç‚º 0"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }

        <span class="hljs-keyword">return</span> discounted;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddQuantity</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> qty</span>)</span>
    {
        <span class="hljs-keyword">if</span> (qty &lt;= <span class="hljs-number">0</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidQuantityException(<span class="hljs-string">"æ–°å¢æ•¸é‡å¿…é ˆå¤§æ–¼ 0"</span>);

        Quantity += qty;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">string</span> <span class="hljs-title">ToString</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">return</span> <span class="hljs-string">$"<span class="hljs-subst">{Product.GetDescription()}</span> Ã— <span class="hljs-subst">{Quantity}</span>, æŠ˜æ‰£å¾Œå°è¨ˆ: <span class="hljs-subst">{GetTotalPrice():C}</span>"</span>;
    }
}

<span class="hljs-comment">// ========== è¨‚å–® ==========</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>
{
    <span class="hljs-keyword">public</span> List&lt;OrderItem&gt; Items { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; } = <span class="hljs-keyword">new</span> List&lt;OrderItem&gt;();
    <span class="hljs-keyword">public</span> DateTime OrderDate { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Order</span>(<span class="hljs-params"></span>)</span>
    {
        OrderDate = DateTime.Now;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddItem</span>(<span class="hljs-params">OrderItem item</span>)</span>
    {
        <span class="hljs-comment">// æª¢æŸ¥æ˜¯å¦å·²æœ‰ç›¸åŒå•†å“</span>
        <span class="hljs-keyword">var</span> existing = Items.Find(i =&gt; i.Product.Name == item.Product.Name);
        <span class="hljs-keyword">if</span> (existing != <span class="hljs-literal">null</span>)
        {
            existing.AddQuantity(item.Quantity);
        }
        <span class="hljs-keyword">else</span>
        {
            Items.Add(item);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> <span class="hljs-title">GetTotalAmount</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">decimal</span> sum = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> Items)
        {
            sum += item.GetTotalPrice();
        }
        <span class="hljs-keyword">return</span> sum;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PrintOrderDetails</span>(<span class="hljs-params"></span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">"===== è¨‚å–®æ˜ç´° ====="</span>);
        Console.WriteLine(<span class="hljs-string">$"è¨‚å–®æ—¥æœŸ: <span class="hljs-subst">{OrderDate}</span>"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> Items)
        {
            Console.WriteLine(item);
        }
        Console.WriteLine(<span class="hljs-string">$"ç¸½é‡‘é¡: <span class="hljs-subst">{GetTotalAmount():C}</span>"</span>);
        Console.WriteLine(<span class="hljs-string">"==================="</span>);
    }
}

<span class="hljs-comment">// ========== æ¸¬è©¦ç¨‹å¼ ==========</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">try</span>
        {
            <span class="hljs-comment">// å»ºç«‹å•†å“</span>
            <span class="hljs-keyword">var</span> book1 = <span class="hljs-keyword">new</span> Book(<span class="hljs-string">"C# æ·±å…¥è§£æ"</span>, <span class="hljs-number">800</span>, <span class="hljs-string">"é™³å¤§å¸«"</span>);
            <span class="hljs-keyword">var</span> food1 = <span class="hljs-keyword">new</span> Food(<span class="hljs-string">"å·§å…‹åŠ›è›‹ç³•"</span>, <span class="hljs-number">350</span>, DateTime.Now.AddDays(<span class="hljs-number">7</span>));
            <span class="hljs-keyword">var</span> food2 = <span class="hljs-keyword">new</span> Food(<span class="hljs-string">"è˜‹æœ"</span>, <span class="hljs-number">30</span>, DateTime.Now.AddDays(<span class="hljs-number">10</span>));

            <span class="hljs-comment">// å»ºç«‹æŠ˜æ‰£ç­–ç•¥</span>
            <span class="hljs-keyword">var</span> noDiscount = <span class="hljs-keyword">new</span> NoDiscount();
            <span class="hljs-keyword">var</span> discount20 = <span class="hljs-keyword">new</span> PercentageDiscount(<span class="hljs-number">0.2</span>m); <span class="hljs-comment">// 8 æŠ˜</span>
            <span class="hljs-keyword">var</span> thresholdDiscount = <span class="hljs-keyword">new</span> ThresholdDiscount(<span class="hljs-number">500</span>, <span class="hljs-number">50</span>);

            <span class="hljs-comment">// å»ºç«‹è¨‚å–®</span>
            <span class="hljs-keyword">var</span> order = <span class="hljs-keyword">new</span> Order();
            order.AddItem(<span class="hljs-keyword">new</span> OrderItem(book1, <span class="hljs-number">1</span>, discount20));
            order.AddItem(<span class="hljs-keyword">new</span> OrderItem(food1, <span class="hljs-number">2</span>, thresholdDiscount));
            order.AddItem(<span class="hljs-keyword">new</span> OrderItem(food2, <span class="hljs-number">10</span>, noDiscount));

            <span class="hljs-comment">// é¡¯ç¤ºè¨‚å–®</span>
            order.PrintOrderDetails();

            <span class="hljs-comment">// æ¸¬è©¦æ•¸é‡ç‚º 0 çš„ä¾‹å¤–</span>
            Console.WriteLine(<span class="hljs-string">"\n[æ¸¬è©¦ä¾‹å¤–è™•ç†]"</span>);
            order.AddItem(<span class="hljs-keyword">new</span> OrderItem(food2, <span class="hljs-number">0</span>, noDiscount)); <span class="hljs-comment">// æœƒæ‹‹å‡ºä¾‹å¤–</span>
        }
        <span class="hljs-keyword">catch</span> (InvalidQuantityException ex)
        {
            Console.WriteLine(<span class="hljs-string">$"[éŒ¯èª¤] <span class="hljs-subst">{ex.Message}</span>"</span>);
        }
        <span class="hljs-keyword">catch</span> (Exception ex)
        {
            Console.WriteLine(<span class="hljs-string">$"[æœªé æœŸéŒ¯èª¤] <span class="hljs-subst">{ex.Message}</span>"</span>);
        }
    }
}

</div></code></pre>

</body>
</html>
